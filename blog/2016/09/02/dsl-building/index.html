<!doctype html>
<html class="no-js" lang="en">
<head>
<meta charset="utf-8" />
<title>Building DSL Instead of an IDE Plugin &#8211; Eugene Petrenko</title>
<meta name="description" content="An alternative way of doing IDE support without any IDE plugin code for not yet supported and specific languages.
"/>
<meta name="keywords" content="jonnyzzz, Евгений Петренко, Eugene Petrenko, dsl, kotlin, jvm, ide, the dsl way" />


<!-- Twitter Cards -->
<meta name="twitter:title" content="Building DSL Instead of an IDE Plugin -- Eugene Petrenko" />
<meta name="twitter:description" content="An alternative way of doing IDE support without any IDE plugin code for not yet supported and specific languages.
" />
<meta name="twitter:site" content="@jonnyzzz" />
<meta name="twitter:creator" content="@jonnyzzz" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://jonnyzzz.com/images/me.jpg" />

<!-- Open Graph -->

<meta property="og:type" content="article" />
<meta property="og:image" content="https://jonnyzzz.com/images/me.jpg" />
<meta property="og:title" content="Building DSL Instead of an IDE Plugin -- Eugene Petrenko" />
<meta property="og:description" content="An alternative way of doing IDE support without any IDE plugin code for not yet supported and specific languages.
" />
<meta property="og:url" content="https://jonnyzzz.com/blog/2016/09/02/dsl-building/" />
<meta property="og:site_name" content="Eugene Petrenko" />

<meta property="article:tag" content="jonnyzzz" />

<meta property="article:tag" content="Евгений Петренко" />

<meta property="article:tag" content="Eugene Petrenko" />


<meta property="article:tag" content="dsl" />

<meta property="article:tag" content="kotlin" />

<meta property="article:tag" content="jvm" />

<meta property="article:tag" content="ide" />

<meta property="article:tag" content="the dsl way" />



<!-- Webmaster Tools verfication -->
<meta name="google-site-verification" content="MJZCyfst2Tx4KyxbOIQu1fZyOSwA_JkQu73zJcfsl2g" />




<link rel="canonical" href="https://jonnyzzz.com/blog/2016/09/02/dsl-building/" />
<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="ATOM Feed" />

<meta name="HandheldFriendly" content="True" />
<meta name="MobileOptimized" content="320" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css" />

<link rel="apple-touch-icon" sizes="57x57" href="/images/apple-icon-57x57.png" />
<link rel="apple-touch-icon" sizes="60x60" href="/images/apple-icon-60x60.png" />
<link rel="apple-touch-icon" sizes="72x72" href="/images/apple-icon-72x72.png" />
<link rel="apple-touch-icon" sizes="76x76" href="/images/apple-icon-76x76.png" />
<link rel="apple-touch-icon" sizes="114x114" href="/images/apple-icon-114x114.png" />
<link rel="apple-touch-icon" sizes="120x120" href="/images/apple-icon-120x120.png" />
<link rel="apple-touch-icon" sizes="144x144" href="/images/apple-icon-144x144.png" />
<link rel="apple-touch-icon" sizes="152x152" href="/images/apple-icon-152x152.png" />
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-icon-180x180.png" />
<link rel="icon" type="image/png" sizes="192x192"  href="/images/android-icon-192x192.png" />
<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png" />
<link rel="icon" type="image/png" sizes="96x96" href="/images/favicon-96x96.png" />
<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png" />
<link rel="manifest" href="/images/manifest.json" />
<meta name="msapplication-TileColor" content="#ffffff" />
<meta name="msapplication-TileImage" content="/images/ms-icon-144x144.png" />
<meta name="theme-color" content="#ffffff" />

</head>

<body id="post">

<div class="navigation-wrapper">
	<nav role="navigation" id="site-nav">
	    <ul>
      
		    <li><a href="/" >Home</a></li>
		  
		    <li><a href="/about/" >About</a></li>
		  
		    <li><a href="/blog/" >Blog</a></li>
		  
		    <li><a href="/projects/" >Projects</a></li>
		  
		    <li><a href="/talks/" >Talks</a></li>
		  
		    <li><a href="/tags/" >Tags</a></li>
		  
	    </ul>
	</nav>
</div><!-- /.navigation-wrapper -->

<header class="masthead">
	<div class="wrap">
      
      <h1 class="site-title"><a href="/">Eugene Petrenko</a></h1>
		<h2 class="site-description" itemprop="description">Founding Engineering Leader | Agentic AI DevTools & Experience</h2>
	</div>
</header><!-- /.masthead -->


<div id="main" role="main">
  <article class="hentry">
    
    <div class="entry-wrapper">
      <header class="entry-header">
        <ul class="entry-tags">
          <li><a href="/tags/#dsl" title="Pages tagged dsl">dsl</a></li><li><a href="/tags/#kotlin" title="Pages tagged kotlin">kotlin</a></li><li><a href="/tags/#jvm" title="Pages tagged jvm">jvm</a></li><li><a href="/tags/#ide" title="Pages tagged ide">ide</a></li><li><a href="/tags/#the dsl way" title="Pages tagged the dsl way">the dsl way</a></li>
        </ul>
        
          <h1 class="entry-title">Building DSL Instead of an IDE Plugin</h1>
        
      </header>
      <footer class="entry-meta">
        
        
          <img src="/images/me.jpg" class="bio-photo" alt="Eugene Petrenko bio photo"></a>
        
        <span class="author vcard">By <span class="fn">Eugene Petrenko</span></span>
        <span class="entry-date date published"><time datetime="2016-09-02T00:00:00+00:00">September 02, 2016</time></span>
        
        
        <span class="social-share-x">
  <a href="https://x.com/intent/tweet?hashtags=dsl,kotlin,jvm,ide,thedslway&amp;text=Building%20DSL%20Instead%20of%20an%20IDE%20Plugin&amp;url=https://jonnyzzz.com/blog/2016/09/02/dsl-building/&amp;via=jonnyzzz" title="Share on X" itemprop="X" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="14" height="14" style="vertical-align: middle; fill: currentColor;"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg> Post</a>
</span>
<span class="social-share-facebook">
  <a href="https://www.facebook.com/sharer/sharer.php?u=https://jonnyzzz.com/blog/2016/09/02/dsl-building/" title="Share on Facebook" itemprop="Facebook" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="14" height="14" style="vertical-align: middle; fill: currentColor;"><path d="M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.84 3.44 8.87 8 9.8V15H8v-3h2V9.5C10 7.57 11.57 6 13.5 6H16v3h-2c-.55 0-1 .45-1 1v2h3v3h-3v6.95c5.05-.5 9-4.76 9-9.95z"/></svg> Like</a>
</span>
<!-- /.social-share -->

      </footer>
      <div class="entry-content">
        <p>An alternative way of doing IDE support without any IDE plugin code for not yet supported and specific languages.</p>

<h1 id="problem-statement">Problem Statement</h1>

<p>Most of us use quite smart IDEs daily with languages we use for development. IDE helps us not only
to highlight keywords. It is able to check types, show errors, do refactoring, complete and analyze code.</p>

<p>Of course we spent some time working with languages that are not (or weakly) supported by an IDE. Those languages
could be used for configurations files, logger settings, business rules, scripts, text files and so on.
This is a specific domain where a language is used. It can be hard to read code on that language, it can
be also hard to write it too. One may easily waste time writing incorrect code.</p>

<p>It’s the lack of decent IDE support for such languages. Let’s see how we can solve it</p>

<p>I will use \(Original Language\) term to refer to an unsupported language.</p>

<h1 id="a-trivial-solution">A Trivial Solution</h1>

<p>Say we have an \(Original Language\) we use, and there is no decent support for it in IDE.</p>

<p>The very first solution is to replace the \(Original Language\) with some other language.</p>

<p>Suppose the \(Original Language\) cannot be thrown away. And it’s likely there is a code on that language. 
There has to be a system that accepts it too.</p>

<p>Okay. We may implement a plugin for our an IDE to support it.</p>

<p>Writing a plugin is a complicated task. One needs to know IDE API. Moreover, you’ll implement a parsing 
so that it’d be fast enough to play well in IDE. The parser should also support invalid text input too, e.g. 
incorrect code that is being entered. That can be tricky.</p>

<p>Well, a parser may not be necessary, if, say IDE support some base language, e.g. <code class="language-plaintext highlighter-rouge">.properties</code> or <code class="language-plaintext highlighter-rouge">.xml</code> format.
But in that case a deep IDE APIs has to be used.</p>

<p>Finally, a plugin will depend on IDE. Meaning it has to be updated to work with newer IDE versions. It’s not in
our control to lock an IDE version.</p>

<p>This can be done, but, there’s an <strong>alternative way</strong>.</p>

<h1 id="the-dsl-way">The DSL Way</h1>

<p>Everyone uses their IDE. And of course there is a language we use daily. For example, it could be
<a href="http://www.oracle.com/technetwork/java/index.html">Java</a>,
<a href="http://www.scala-lang.org/">Scala</a>,
<a href="https://kotlinlang.org">Kotlin</a>,
<a href="https://golang.org/">Go</a>, 
<a href="http://www.groovy-lang.org/">Groovy</a>.
We know for sure, an IDE is smart on those languages.</p>

<p>My idea is to an \(Original Language\), which is unsupported by an IDE, into a code in a supported language. 
I will use a \(Target Language \) term for it. Next, run the 
code to have a code in a \(Original Language\) back. As shown on the diagram below:</p>

\[\begin{equation}
\begin{array}[c]{ccccc}

&amp;&amp;API Library \\
&amp;&amp; \Big\uparrow \mbox{uses}\\
Original Language &amp; \xrightarrow{\mbox{generate}} &amp; Generated Code &amp; \xrightarrow{\mbox{execute}} &amp; Original Language \\
&amp;&amp; Target Language \\
\end{array}
\end{equation}\]

<p>To implement it we need</p>
<ul>
  <li>\(generator\), a program that reads a valid code in the \(Original Language\) and generates a code in the \(Target Language \)</li>
  <li>\(API Library\), a peace of code that includes all definition required for a generated code to be more readable</li>
  <li>\(execute\), a peace of code that makes compiled generated code in the \(Target Language \) to emit a code in the \(Original Language\)</li>
</ul>

<p>The goal of those transformations is to have a readable \(Generated Code \). Refactorings for \(Generated Code \) 
in \(Target Language \) are projected to the \(Original Language\).</p>

<h1 id="selecting-a-target-language">Selecting a Target Language</h1>

<p>Most we need from a \( Target Language \) is a decent IDE support.</p>

<p>We shall select a \( Target Language \) with a good readability for everyone. 
Languages with better DSL or fluent APIs capabilities are likely to play better.</p>

<p>Static typing is a nice to have. It makes it harder to make a error. Moreover, 
it’s likely to require no setup for an IDE to work. For some dynamic languages
an additional <a href="https://confluence.jetbrains.com/display/GRVY/Scripting+IDE+for+DSL+awareness">helper</a> may be required.</p>

<h1 id="the-dsl-way-benefits">The DSL Way Benefits</h1>

<p>The DSL Way approach projects all features from an \( Target Language \) into a \(Original Language\). 
We can say an \(Original Language\) is extended with all possible high-level features of a \( Target Language \).
For example, we can use functions, loops, conditions, libraries and so on. There is no need to 
have a support for such constructs in the \(Original Language\).
One may also tune a \(generator\) to say fold duplicates in the input into a loops or functions.</p>

<p>Thanks to \(API Library\) we have good readability. It’s a creativity part here. But if implemented correctly, 
it improves readability drastically.</p>

<p>The parsing is easier to implement for The DSL Way approach. We only need to have it supporting valid inputs. By induction,
we start with a valid code and generate a valid code. It’s way more complex for The IDE Plugin case.</p>

<p>Refactorings and code analysis features for a \(Target Language \) are projected to a \(Original Language\). All 
what is needed is to design \(API Library\) and \(generator\) in the right way. Say you need a <em>find usages</em> 
for some domain object. To have it, you may make a \(generator\) declare and use a variable for such entities. 
Once variables are used, rename feature is implemented for free.</p>

<h1 id="example">Example</h1>

<p>Let’s consider <a href="http://logging.apache.org/log4j/1.2/">Log4j</a> configuration in <code class="language-plaintext highlighter-rouge">.properties</code> file as \(Original Language\).</p>

<figure class="highlight"><pre><code class="language-properties" data-lang="properties"><span class="py">log4j.rootLogger</span><span class="p">=</span><span class="s">ERROR,stdout</span>
<span class="py">log4j.logger.corp.mega</span><span class="p">=</span><span class="s">INFO,stdout</span>
<span class="c"># meaningful comment goes here
</span><span class="py">log4j.logger.corp.mega.itl.web.metrics</span><span class="p">=</span><span class="s">INFO</span>

<span class="py">log4j.appender.stdout</span><span class="p">=</span><span class="s">org.apache.log4j.ConsoleAppender</span>
<span class="py">log4j.appender.stdout.layout</span><span class="p">=</span><span class="s">org.apache.log4j.PatternLayout</span>
<span class="py">log4j.appender.stdout.layout.ConversionPattern</span><span class="p">=</span><span class="s">%p</span><span class="se">\t</span><span class="s">%d{ISO8601}</span><span class="se">\t</span><span class="s">%r</span><span class="se">\t</span><span class="s">%c</span><span class="se">\t</span><span class="s">[%t]</span><span class="se">\t</span><span class="s">%m%n</span></code></pre></figure>

<p>I decided to use <a href="https://www.jetbrains.com/idea/">IntelliJ IDEA</a> as IDE 
and <a href="https://kotlinlang.org">Kotlin</a> as \(Target Language \).</p>

<p>The configuration below can be turned into the following Kotlin code.</p>

<figure class="highlight"><pre><code class="language-kotlin" data-lang="kotlin"><span class="nf">log4j</span> <span class="p">{</span>
  <span class="kd">val</span> <span class="py">stdout</span> <span class="p">=</span> <span class="n">appender</span><span class="p">&lt;</span><span class="nc">ConsoleAppender</span><span class="p">&gt;(</span><span class="s">"stdout"</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">layout</span><span class="p">&lt;</span><span class="nc">PatternLayout</span><span class="p">&gt;</span> <span class="p">{</span>
      <span class="n">conversionPattern</span> <span class="p">=</span> <span class="s">"%p\t%d{ISO8601}\t%r\t%c\t[%t]\t%m%n"</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="nf">rootLogger</span> <span class="p">{</span>
    <span class="n">level</span> <span class="p">=</span> <span class="nc">ERROR</span>
    <span class="n">appenders</span> <span class="p">+=</span> <span class="n">stdout</span>
  <span class="p">}</span>

  <span class="nf">logger</span><span class="p">(</span><span class="s">"corp.mega.itl.web.metrics"</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">level</span> <span class="p">=</span> <span class="nc">INFO</span>
  <span class="p">}</span>

  <span class="nf">logger</span><span class="p">(</span><span class="s">"corp.mega"</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">level</span> <span class="p">=</span> <span class="nc">INFO</span>
    <span class="n">appenders</span> <span class="p">+=</span> <span class="n">stdout</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>The evaluation of this Kotlin program yields the similar <code class="language-plaintext highlighter-rouge">.properties</code> file back.</p>

<p>The DSL code is way easier to read and to write.</p>

<p>Thanks to Kotlin static typed DSLs, IntelliJ IDEA understands the code well, warns all incorrect usages,
code complete all possibilities.</p>

<p>Moreover, using such DSL is the way to implement automatic tests for your log4j configurations.
One may easily setup automatic tests task as a part of their continuous integration, since the code has no dependency on 
an IDE part.</p>

<p>It opens the way to reuse common configuration files as well as to run.</p>

<h1 id="conclusion">Conclusion</h1>

<p>In the post we discussed The DSL Way of doing an IDE support <strong>without</strong> writing any IDE related code. 
The created DSL can be used not only with IDE. It can easily be re-used in any possible applications like code sharing,
automatic test, continuous integration and so on.</p>

<p>You may follow to <a href="/blog/2016/03/08/gradle-for-dsl/">this post</a> for details on how to create decent package
for The DSL Way toolset.</p>

<p><em>PS</em>. Do you have more examples for \(Original Language\)? Please share in comments below</p>

        
      </div><!-- /.entry-content -->
    </div><!-- /.entry-wrapper -->
    <nav class="pagination" role="navigation">
      
        <a href="/blog/2016/08/29/classloader-proxy/" class="btn" title="Proxy calls between classloaders">Previous</a>
      
      
        <a href="/blog/2016/09/09/log4j-dsl/" class="btn" title="Crafting Log4j Configuration DSL">Next</a>
      
    </nav><!-- /.pagination -->
  </article>
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo" class="entry-wrapper">
    

<span>
  &copy; 2005—2026 Eugene Petrenko.
  <br />
  Unless otherwise noted, the content on the website is licensed under a
  <a href="https://creativecommons.org/licenses/by-nc-sa/4.0">CC BY-NC-SA 4.0</a> license.
  <br />
  Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using
  the <a href="https://mademistakes.com/work/so-simple-jekyll-theme/" rel="nofollow">So Simple Theme</a>.
</span>
<div class="social-icons">
  <a href="https://x.com/jonnyzzz" title="Eugene Petrenko on X" target="_blank"><svg class="social-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg></a>
  <a href="https://linkedin.com/in/jonnyzzz" title="Eugene Petrenko on LinkedIn" target="_blank"><svg class="social-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77z"/></svg></a>
  <a href="https://github.com/jonnyzzz" title="Eugene Petrenko on Github" target="_blank"><svg class="social-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2z"/></svg></a>
  <a href="https://www.youtube.com/@jonnyzzz" title="Eugene Petrenko on YouTube" target="_blank"><svg class="social-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M23.498 6.186a2.959 2.959 0 0 0-2.079-2.08C19.58 3.6 12 3.6 12 3.6s-7.58 0-9.419.507a2.959 2.959 0 0 0-2.08 2.079C0 8.025 0 12 0 12s0 3.975.501 5.814a2.959 2.959 0 0 0 2.08 2.079C4.42 20.4 12 20.4 12 20.4s7.58 0 9.419-.507a2.959 2.959 0 0 0 2.08-2.079C24 15.975 24 12 24 12s0-3.975-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/></svg></a>
  <a href="/feed.xml" title="Atom/RSS feed"><svg class="social-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.18 15.64a2.18 2.18 0 0 1 2.18 2.18C8.36 19 7.38 20 6.18 20C5 20 4 19 4 17.82a2.18 2.18 0 0 1 2.18-2.18M4 4.44A15.56 15.56 0 0 1 19.56 20h-2.83A12.73 12.73 0 0 0 4 7.27V4.44m0 5.66a9.9 9.9 0 0 1 9.9 9.9h-2.83A7.07 7.07 0 0 0 4 12.93V10.1z"/></svg></a>
</div><!-- /.social-icons -->

  </footer>
</div><!-- /.footer-wrapper -->

<script>
  // Open external links in new tab
  Array.from(document.links).forEach(link => {
    // For development: 0.0.0.0, localhost, 127.0.0.1 are all local
    const localHosts = ['localhost', '127.0.0.1', '0.0.0.0'];
    const linkIsLocal = localHosts.includes(link.hostname);
    const pageIsLocal = localHosts.includes(window.location.hostname);

    // Internal if: both are local dev hosts, or hostnames match exactly
    const isInternal = (linkIsLocal && pageIsLocal) ||
                       (link.hostname === window.location.hostname);

    if (!isInternal) {
      link.target = '_blank';
    }
  });
</script>


<!-- Google Analytics (gtag.js) -->
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('consent', 'default', {
    'ad_storage': 'denied',
    'ad_user_data': 'denied',
    'ad_personalization': 'denied',
    'analytics_storage': 'denied'
  });
</script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-BXXDX0ERFP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-BXXDX0ERFP');
</script>
<!-- End Google Analytics -->

<!-- PostHog Analytics -->
<script>
    !function(t,e){var o,n,p,r;e.__SV||(window.posthog && window.posthog.__loaded)||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.crossOrigin="anonymous",p.async=!0,p.src=s.api_host.replace(".i.posthog.com","-assets.i.posthog.com")+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="init rs ls wi ns us ts ss capture calculateEventProperties vs register register_once register_for_session unregister unregister_for_session gs getFeatureFlag getFeatureFlagPayload getFeatureFlagResult isFeatureEnabled reloadFeatureFlags updateFlags updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures on onFeatureFlags onSurveysLoaded onSessionId getSurveys getActiveMatchingSurveys renderSurvey displaySurvey cancelPendingSurvey canRenderSurvey canRenderSurveyAsync identify setPersonProperties group resetGroups setPersonPropertiesForFlags resetPersonPropertiesForFlags setGroupPropertiesForFlags resetGroupPropertiesForFlags reset get_distinct_id getGroups get_session_id get_session_replay_url alias set_config startSessionRecording stopSessionRecording sessionRecordingStarted captureException startExceptionAutocapture stopExceptionAutocapture loadToolbar get_property getSessionProperty fs ds createPersonProfile setInternalOrTestUser ps Qr opt_in_capturing opt_out_capturing has_opted_in_capturing has_opted_out_capturing get_explicit_consent_status is_capturing clear_opt_in_out_capturing hs debug M cs getPageViewId captureTraceFeedback captureTraceMetric Kr".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
    posthog.init('phc_IPtbjwwy9YIGg0YNHNxYBePijvTvHEcKAjohah6obYW', {
        api_host: 'https://us.i.posthog.com',
        defaults: '2025-11-30',
        person_profiles: 'identified_only',
    })
</script>
<!-- End PostHog Analytics -->



<!-- MathJax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML" integrity="sha512-ooZHdm/JfD3zUnHjZ09THzqpRMISX6bEk3aODy1KA4tzuk2PGIALekU5l+4jDEmWPwqozuQl5lrMHwfruYmenA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>


<!--SYNTAX HIGHLIGHTER - Lazy loads PrismJS only when code blocks are present-->
<script>
(function() {
  // Check if page has any code blocks that need highlighting
  if (!document.querySelector('pre code, code[class*="language-"]')) return;

  // Load CSS
  var cssFiles = [
    'https://cdn.jsdelivr.net/npm/prismjs@1.30.0/themes/prism.min.css',
    'https://cdn.jsdelivr.net/npm/prismjs@1.30.0/plugins/line-numbers/prism-line-numbers.min.css',
    'https://cdn.jsdelivr.net/npm/prismjs@1.30.0/plugins/toolbar/prism-toolbar.min.css'
  ];
  cssFiles.forEach(function(href) {
    var link = document.createElement('link');
    link.rel = 'stylesheet';
    link.href = href;
    document.head.appendChild(link);
  });

  // Load JS in sequence (core first, then plugins)
  var jsFiles = [
    'https://cdn.jsdelivr.net/npm/prismjs@1.30.0/components/prism-core.min.js',
    'https://cdn.jsdelivr.net/npm/prismjs@1.30.0/plugins/autoloader/prism-autoloader.min.js',
    'https://cdn.jsdelivr.net/npm/prismjs@1.30.0/plugins/line-numbers/prism-line-numbers.min.js',
    'https://cdn.jsdelivr.net/npm/prismjs@1.30.0/plugins/toolbar/prism-toolbar.min.js',
    'https://cdn.jsdelivr.net/npm/prismjs@1.30.0/plugins/show-language/prism-show-language.min.js',
    'https://cdn.jsdelivr.net/npm/prismjs@1.30.0/plugins/normalize-whitespace/prism-normalize-whitespace.min.js'
  ];

  function loadScript(index) {
    if (index >= jsFiles.length) {
      // All scripts loaded, highlight code
      if (window.Prism) Prism.highlightAll();
      return;
    }
    var script = document.createElement('script');
    script.src = jsFiles[index];
    script.onload = function() { loadScript(index + 1); };
    document.head.appendChild(script);
  }
  loadScript(0);
})();
</script>



</body>
</html>
