<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Node.js and NVM and Grunt in TeamCity.Node &#8211; Eugene Petrenko</title>

<meta name="keywords" content="free-time, teamcity runner, teamcity plugin, teamcity, build, feature, kotlin, grunt">

  

<!-- Twitter Cards -->
<meta name="twitter:title" content="Node.js and NVM and Grunt in TeamCity.Node">

<meta name="twitter:site" content="@jonnyzzz">
<meta name="twitter:creator" content="@jonnyzzz">

<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="/images/">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Node.js and NVM and Grunt in TeamCity.Node">

<meta property="og:url" content="/blog/2013/08/22/nodejs-and-nvm-and-grunt/">
<meta property="og:site_name" content="Eugene Petrenko">





<link rel="canonical" href="/blog/2013/08/22/nodejs-and-nvm-and-grunt/">
<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Eugene Petrenko Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<!-- Webfonts -->
<script src="https://use.edgefonts.net/source-sans-pro:n2,i2,n3,i3,n4,i4,n6,i6,n7,i7,n9,i9;source-code-pro:n4,n7;volkhov.js"></script>

<meta http-equiv="cleartype" content="on">

<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
  <script src="/assets/js/vendor/html5shiv.min.js"></script>
  <script src="/assets/js/vendor/respond.min.js"></script>
<![endif]-->

<!-- Modernizr -->
<script src="/assets/js/vendor/modernizr-2.7.1.custom.min.js"></script>


<!-- MathJax -->
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>


<!-- Icons -->
<!-- 16x16 -->
<!--<link rel="shortcut icon" href="/favicon.ico">-->
<!-- 32x32 -->
<!--<link rel="shortcut icon" href="/favicon.png">-->
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<!--<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-precomposed.png">-->
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<!--<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72-precomposed.png">-->
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<!--<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114-precomposed.png">-->
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<!--<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144-precomposed.png">-->


<!-- Begin Cookie Consent plugin by Silktide - http://silktide.com/cookieconsent -->
<script type="text/javascript">
    window.cookieconsent_options = {"message":"This website uses cookies to ensure you get the best experience on our website","dismiss":"Got it!","learnMore":"More info","link":null,"theme":"light-bottom"};
</script>

<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/1.0.9/cookieconsent.min.js"></script>
<!-- End Cookie Consent plugin -->


<!--SYNTAX HIGHLIGHTER BEGINS-->

<script src="/assets/syntax/syntax.js"></script>

<link rel="stylesheet" href="/assets/syntax/syntax.css" />

<!--SYNTAX HIGHLIGHTER ENDS-->


</head>

<body id="post">

<div class="navigation-wrapper">
	<nav role="navigation" id="site-nav" class="animated drop">
	    <ul>
      
		    
		        
		    
		    <li><a href="/about/" >About</a></li>
		  
		    
		        
		    
		    <li><a href="/blog/" >Blog</a></li>
		  
	    </ul>
	</nav>
</div><!-- /.navigation-wrapper -->

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->

<header class="masthead">
	<div class="wrap">
      
      <h1 class="site-title animated fadeIn"><a href="/">Eugene Petrenko</a></h1>
		<h2 class="site-description animated fadeIn" itemprop="description">Eugene @jonnyzzz Petrenko personal page and blog</h2>
	</div>
</header><!-- /.masthead -->

<div class="js-menu-screen menu-screen"></div>


<div id="main" role="main">
  <article class="hentry">
    
    <div class="entry-wrapper">
      <header class="entry-header">
        <ul class="entry-tags">
          <li><a href="/tags/#free-time" title="Pages tagged free-time">free-time</a></li><li><a href="/tags/#teamcity runner" title="Pages tagged teamcity runner">teamcity runner</a></li><li><a href="/tags/#teamcity plugin" title="Pages tagged teamcity plugin">teamcity plugin</a></li><li><a href="/tags/#teamcity" title="Pages tagged teamcity">teamcity</a></li><li><a href="/tags/#build" title="Pages tagged build">build</a></li><li><a href="/tags/#feature" title="Pages tagged feature">feature</a></li><li><a href="/tags/#kotlin" title="Pages tagged kotlin">kotlin</a></li><li><a href="/tags/#grunt" title="Pages tagged grunt">grunt</a></li>
        </ul>
        
          <h1 class="entry-title">Node.js and NVM and Grunt in TeamCity.Node</h1>
        
      </header>
      <footer class="entry-meta">
        
          
        
          <img src="/images/me.jpg" class="bio-photo" alt="Eugene Petrenko bio photo"></a>
        
        <span class="author vcard">By <span class="fn">Eugene Petrenko</span></span>
        <span class="entry-date date published"><time datetime="2013-08-22T11:00:00+02:00"><i class="fa fa-calendar-o"></i> August 22, 2013</time></span>
        <span class="entry-date date modified"><time datetime="2013-08-22T11:04:45.238+02:00"><i class="fa fa-pencil"></i> August 22, 2013</time></span>
        <span class="entry-comments"><i class="fa fa-comment-o"></i> <a href="#disqus_thread">Comment</a></span>
        
        
      </footer>
      <div class="entry-content">
        <p>In the previous <a
  href="/blog/2013/04/30/adding-grunt-support-to-teamcitynode/">posts</a> I wrote
  about <a href="https://github.com/jonnyzzz/TeamCity.Node">Jonnyzzz.Node</a> plugin that provides
  support for Node.js, NPM, Grunt and Phantom.js in TeamCity. Today I'm here to introduce NVM support in the plugin.
  I'd also shed light on Grunt runner improvements. </p> <h3>NVM</h3><p> In the latest
  builds of the plugin you'll find the build runner called <strong>Node.js NVM Installer</strong>. This
  build runner would install Node.js and Node Package Manager to your build agent machine with <em>no
    pre-setup at all</em>. As the implementation I use the amazing script from <a
    href="https://github.com/creationix/nvm">creatonix/nvm</a>. The build runner fetches the latest version
  of the script from GitHub. Note, the script only works under Linux and MacOS. </p> <p>The new runner
  provides very simple settings. All you need is to specify version of Node.js. After build runner is executed, you
  may simply use Node.js or Node.js NPM build runners or even call <em>node</em> or <em>npm</em>
  command from any of you scripts/runners. </p><a
  href="http://4.bp.blogspot.com/-a2FJcRoUKa4/UhUfsdRnvsI/AAAAAAAADvs/h_AYOc4GImA/s1600/Image_0078.png"
  imageanchor="1"><img border="0"
                       src="http://4.bp.blogspot.com/-a2FJcRoUKa4/UhUfsdRnvsI/AAAAAAAADvs/h_AYOc4GImA/s1600/Image_0078.png"/></a>
<p>You may use the <em>Node.js NVM Installer</em> more than once within the build configuration.
  So you may test/run your code under several Node.js version at once! </p> <h3>Grunt</h3><p>There
  were many requests in feedback to let Grant build runner use system-wide grunt instead of NPM fetched local grunt.
  Starting from now you may select the preferred way you like Grunt runner to be executed! </p><p>It's
  handy to refer to TeamCity properties from build scripts. Grunt scripts are not an exception to the rule. Starting
  from now Grunt build runner would add <em>--teamcity.properties.all=&lt;file.json&gt;</em>
  parameter with path to a .json file that contains all TeamCity parameters serialized to JSON hash. So now you may
  easily integrate your builds with TeamCity! You may use the following code to parse parameters in Grunt.js: </p>
<script
  type="syntaxhighlighter" class="brush:js"><![CDATA[ var teamcityProperties =
      grunt.file.readJSON(grunt.option("teamcity.properties.all")); //extract build number var buildNumber =
      teamcityProperties["build.number"]; ]]>
</script> <h3>Downloading TeamCity.Node</h3><p>This
  plugin is provided under Apache 2.0 license. Sources (in <a href="http://kotlin.jetbrains.org/">Kotlin</a>)
  are found on <a href="https://github.com/jonnyzzz/TeamCity.Node">GitHub</a>. You may download compiled
  build from <a href="http://teamcity.jetbrains.com/viewType.html?buildTypeId=bt434">TeamCity</a></p>

        
          <div id="disqus_thread"></div><!-- /#disqus_thread -->
          
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'jonnyzzz'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'https://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

        
      </div><!-- /.entry-content -->
    </div><!-- /.entry-wrapper -->
    <nav class="pagination" role="navigation">
      
        <a href="/blog/2013/05/13/removing-unused-dependencies-in-idea/" class="btn" title="Removing Unused Dependencies in IDEA Projects">Previous</a>
      
      
        <a href="/blog/2013/12/18/try-with-resource-in-java/" class="btn" title="Try-With-Resource in Java">Next</a>
      
    </nav><!-- /.pagination -->
  </article>
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo" class="entry-wrapper">
    

<span>&copy; 2005—2015 Eugene Petrenko. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using the <a href="http://mademistakes.com/so-simple/" rel="nofollow">So Simple Theme</a>.</span>
<div class="social-icons">
	<a href="https://twitter.com/jonnyzzz" title="Eugene Petrenko on Twitter" target="_blank"><i class="fa fa-twitter-square fa-2x"></i></a>
	<a href="https://facebook.com/jonnyzzz" title="Eugene Petrenko on Facebook" target="_blank"><i class="fa fa-facebook-square fa-2x"></i></a>
	<a href="https://plus.google.com/+EugenePetrenko_jonnyzzz" title="Eugene Petrenko on Google+" target="_blank"><i class="fa fa-google-plus-square fa-2x"></i></a>
	<a href="https://linkedin.com/in/jonnyzzz" title="Eugene Petrenko on LinkedIn" target="_blank"><i class="fa fa-linkedin-square fa-2x"></i></a>
	<a href="http://stackoverflow.com/users/49811/eugene-petrenko" title="Eugene Petrenko on StackExchange" target="_blank"><i class="fa fa-stack-exchange fa-2x"></i></a>
	<a href="https://instagram.com/jonnyzzz" title="Eugene Petrenko on Instagram" target="_blank"><i class="fa fa-instagram fa-2x"></i></a>
	<a href="https://www.flickr.com/photos/_jonny_" title="Eugene Petrenko on Flickr" target="_blank"><i class="fa fa-flickr fa-2x"></i></a>
	<a href="https://github.com/jonnyzzz" title="Eugene Petrenko on Github" target="_blank"><i class="fa fa-github-square fa-2x"></i></a>
	
  <a href="https://www.pinterest.com/jonnyzzz/" title="Eugene Petrenko on Pinterest" target="_blank"><i class="fa fa-pinterest fa-2x"></i></a>
	
  <a href="/feed.xml" title="Atom/RSS feed"><i class="fa fa-rss-square fa-2x"></i></a>
</div><!-- /.social-icons -->

  </footer>
</div><!-- /.footer-wrapper -->

<script type="text/javascript">
  var BASE_URL = '';
</script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="/assets/js/scripts.min.js"></script>


<!-- Asynchronous Google Analytics snippet -->
<script>
  var _gaq = _gaq || [];
  var pluginUrl =
 'https://www.google-analytics.com/plugins/ga/inpage_linkid.js';
  _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
  _gaq.push(['_setAccount', 'UA-70104598-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = 'https://stats.g.doubleclick.net/dc.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>



</body>
</html>
