<!doctype html>
<html class="no-js" lang="en">
<head>
<meta charset="utf-8" />
<title>NuGet Feed Authentication Research &#8211; Eugene Petrenko</title>
<meta name="description" content="In this blog post I describe all my experiments to support NuGet feed authentication.
"/>
<meta name="keywords" content="jonnyzzz, Евгений Петренко, Eugene Petrenko, nuget feed, .net, nuget, rant, nuget feed auth, credentials, opensource, persist, utility, build" />


<!-- Twitter Cards -->
<meta name="twitter:title" content="NuGet Feed Authentication Research -- Eugene Petrenko" />
<meta name="twitter:description" content="In this blog post I describe all my experiments to support NuGet feed authentication.
" />
<meta name="twitter:site" content="@jonnyzzz" />
<meta name="twitter:creator" content="@jonnyzzz" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://jonnyzzz.com/images/me.jpg" />

<!-- Open Graph -->

<meta property="og:type" content="article" />
<meta property="og:image" content="https://jonnyzzz.com/images/me.jpg" />
<meta property="og:title" content="NuGet Feed Authentication Research -- Eugene Petrenko" />
<meta property="og:description" content="In this blog post I describe all my experiments to support NuGet feed authentication.
" />
<meta property="og:url" content="https://jonnyzzz.com/blog/2012/06/27/nuget-feed-authentication-research/" />
<meta property="og:site_name" content="Eugene Petrenko" />

<meta property="article:tag" content="jonnyzzz" />

<meta property="article:tag" content="Евгений Петренко" />

<meta property="article:tag" content="Eugene Petrenko" />


<meta property="article:tag" content="nuget feed" />

<meta property="article:tag" content=".net" />

<meta property="article:tag" content="nuget" />

<meta property="article:tag" content="rant" />

<meta property="article:tag" content="nuget feed auth" />

<meta property="article:tag" content="credentials" />

<meta property="article:tag" content="opensource" />

<meta property="article:tag" content="persist" />

<meta property="article:tag" content="utility" />

<meta property="article:tag" content="build" />



<!-- Webmaster Tools verfication -->
<meta name="google-site-verification" content="MJZCyfst2Tx4KyxbOIQu1fZyOSwA_JkQu73zJcfsl2g" />




<link rel="canonical" href="https://jonnyzzz.com/blog/2012/06/27/nuget-feed-authentication-research/" />
<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="ATOM Feed" />

<meta name="HandheldFriendly" content="True" />
<meta name="MobileOptimized" content="320" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css" />

<link rel="apple-touch-icon" sizes="57x57" href="/images/apple-icon-57x57.png" />
<link rel="apple-touch-icon" sizes="60x60" href="/images/apple-icon-60x60.png" />
<link rel="apple-touch-icon" sizes="72x72" href="/images/apple-icon-72x72.png" />
<link rel="apple-touch-icon" sizes="76x76" href="/images/apple-icon-76x76.png" />
<link rel="apple-touch-icon" sizes="114x114" href="/images/apple-icon-114x114.png" />
<link rel="apple-touch-icon" sizes="120x120" href="/images/apple-icon-120x120.png" />
<link rel="apple-touch-icon" sizes="144x144" href="/images/apple-icon-144x144.png" />
<link rel="apple-touch-icon" sizes="152x152" href="/images/apple-icon-152x152.png" />
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-icon-180x180.png" />
<link rel="icon" type="image/png" sizes="192x192"  href="/images/android-icon-192x192.png" />
<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png" />
<link rel="icon" type="image/png" sizes="96x96" href="/images/favicon-96x96.png" />
<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png" />
<link rel="manifest" href="/images/manifest.json" />
<meta name="msapplication-TileColor" content="#ffffff" />
<meta name="msapplication-TileImage" content="/images/ms-icon-144x144.png" />
<meta name="theme-color" content="#ffffff" />

</head>

<body id="post">

<div class="navigation-wrapper">
	<nav role="navigation" id="site-nav">
	    <ul>
      
		    <li><a href="/" >Home</a></li>
		  
		    <li><a href="/about/" >About</a></li>
		  
		    <li><a href="/blog/" >Blog</a></li>
		  
		    <li><a href="/projects/" >Projects</a></li>
		  
		    <li><a href="/talks/" >Talks</a></li>
		  
		    <li><a href="/tags/" >Tags</a></li>
		  
	    </ul>
	</nav>
</div><!-- /.navigation-wrapper -->

<header class="masthead">
	<div class="wrap">
      
      <h1 class="site-title"><a href="/">Eugene Petrenko</a></h1>
		<h2 class="site-description" itemprop="description">Founding Engineering Leader | Agentic AI DevTools & Experience</h2>
	</div>
</header><!-- /.masthead -->


<div id="main" role="main">
  <article class="hentry">
    
    <div class="entry-wrapper">
      <header class="entry-header">
        <ul class="entry-tags">
          <li><a href="/tags/#nuget feed" title="Pages tagged nuget feed">nuget feed</a></li><li><a href="/tags/#.net" title="Pages tagged .net">.net</a></li><li><a href="/tags/#nuget" title="Pages tagged nuget">nuget</a></li><li><a href="/tags/#rant" title="Pages tagged rant">rant</a></li><li><a href="/tags/#nuget feed auth" title="Pages tagged nuget feed auth">nuget feed auth</a></li><li><a href="/tags/#credentials" title="Pages tagged credentials">credentials</a></li><li><a href="/tags/#opensource" title="Pages tagged opensource">opensource</a></li><li><a href="/tags/#persist" title="Pages tagged persist">persist</a></li><li><a href="/tags/#utility" title="Pages tagged utility">utility</a></li><li><a href="/tags/#build" title="Pages tagged build">build</a></li>
        </ul>
        
          <h1 class="entry-title">NuGet Feed Authentication Research</h1>
        
      </header>
      <footer class="entry-meta">
        
        
          <img src="/images/me.jpg" class="bio-photo" alt="Eugene Petrenko bio photo"></a>
        
        <span class="author vcard">By <span class="fn">Eugene Petrenko</span></span>
        <span class="entry-date date published"><time datetime="2012-06-27T12:20:00+00:00">June 27, 2012</time></span>
        <span class="entry-date date modified"><time datetime="2012-06-27T14:20:14.010+02:00">June 27, 2012</time></span>
        
        <span class="social-share-x">
  <a href="https://x.com/intent/tweet?hashtags=nugetfeed,.net,nuget,rant,nugetfeedauth,credentials,opensource,persist,utility,build&amp;text=NuGet%20Feed%20Authentication%20Research&amp;url=https://jonnyzzz.com/blog/2012/06/27/nuget-feed-authentication-research/&amp;via=jonnyzzz" title="Share on X" itemprop="X" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="14" height="14" style="vertical-align: middle; fill: currentColor;"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg> Post</a>
</span>
<span class="social-share-facebook">
  <a href="https://www.facebook.com/sharer/sharer.php?u=https://jonnyzzz.com/blog/2012/06/27/nuget-feed-authentication-research/" title="Share on Facebook" itemprop="Facebook" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="14" height="14" style="vertical-align: middle; fill: currentColor;"><path d="M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.84 3.44 8.87 8 9.8V15H8v-3h2V9.5C10 7.57 11.57 6 13.5 6H16v3h-2c-.55 0-1 .45-1 1v2h3v3h-3v6.95c5.05-.5 9-4.76 9-9.95z"/></svg> Like</a>
</span>
<!-- /.social-share -->

      </footer>
      <div class="entry-content">
        <p>In this blog post I describe all my experiments to support NuGet feed authentication.
</p>

<h2>Introduction</h2><p>My goal was to make NuGet.exe usable in Continuous Integration
  (i.e. <a href="http://blogs.jetbrains.com/dotnet/2011/08/native-nuget-support-in-teamcity/">here</a>)
  scenarios in case one uses NuGet feed with authentication. In fact, I decided to make NuGet.exe client use <strong>persisted</strong>
  credentials instead of asking user for them. </p><p>Why do I need that? That was easy. We receive many
  questions in feedback on how to use authenticated NuGet feeds in builds or on Visual Studio. For example: <a
    href="http://youtrack.jetbrains.com/issue/TW-20764">TW-20764</a>. I also have several similar requests on
  <a href="https://twitter.com/#!/jonnyzzz">twitter</a></p><p>People start using their own
  NuGet feeds. In a big company it's normal to have some NuGet packages to be hidden from everyone. That is
  reasonable to involve authentication to the feeds. And that is reasonable to use NuGet.exe inside continuous
  integration builds to fetch dependencies and/or to publish packages. NuGet.exe has to use packages source with
  authentication work. This means one should provide credentials to NuGet to make it work in scripts without user
  interaction. </p><h2>Current state description</h2><p>NuGet team realized they need to
  provide authentication support. As far as I know NuGet claims to support feed credentials starting from <a
    href="http://docs.nuget.org/docs/release-notes/nuget-1.5">NuGet 1.5</a>. That is nice to know the feature
  is implemented inside NuGet core! </p><p>I read about some complains in the twitter that NuGet does
  not persist entered passwords in Visual Studio. It turns out one need to re-enter passwords for every new Visual
  Studio instance. </p> <h2>Code research</h2><p>Remember, my goal was to support continuous
  integration scenarios. The idea was to make NuGet avoid asking a passwords. </p><p>What I did. First I
  fetched sources of NuGet from <a href="http://nuget.codeplex.com">nuget.codeplex.com</a>, switched to
  branch 2.0 (1ab57c30a3aee16c85ef72cf1aeb9511cf3eace4). </p><p>The first file I checked was <em>src\CommandLine\Program.cs</em>.
  There I found how credentials provider is set-up in <em>Initialize</em> method: </p>
<script
  type="syntaxhighlighter" class="brush: csharp; "><![CDATA[ ... using (var container = new
      CompositionContainer(catalog)) { var settings = GetCommandLineSettings(fileSystem); ... var packageSourceProvider
      = new PackageSourceProvider(...); // Register an additional provider for the console specific application so that
      the user // will be prompted if a proxy is set and credentials are required var credentialProvider = new
      SettingsCredentialProvider(new ConsoleCredentialProvider(), packageSourceProvider, console);
      HttpClient.DefaultCredentialProvider = credentialProvider; container.ComposeExportedValue<IConsole>(console);
      container.ComposeExportedValue<ISettings>(settings); container.ComposeExportedValue<IPackageRepositoryFactory>(new
      NuGet.Common.CommandLineRepositoryFactory()); container.ComposeExportedValue<IPackageSourceProvider>(packageSourceProvider);
      container.ComposeExportedValue<ICredentialProvider>(credentialProvider); container.ComposeParts(this); } ...
      ]]>
</script><p>Here I noticed there is <strong>no way to provide my own credentials provider</strong>
  from plugin. See/vote for related <a href="http://nuget.codeplex.com/workitem/1303">issue</a>. </p><p>Still,
  there is a chance to provide settings that would make <em>SettingsCredentialProvider</em> load
  settings from configuration. </p><h2>Digging NuGet.Config</h2><p>Next step was to check
  how NuGet.exe loads configuration. Of course I knew there is shared <em>NuGet.Config</em> file that
  stores all machine-wide settings. This does not work for me because there could be several running NuGet instances
  and I could not let one instance access feeds from another. </p><p>In the same file
  (<em>src\CommandLine\Program.cs</em>)
  I found how Settings are loaded: </p>
<script type="syntaxhighlighter" class="brush: csharp; "><![CDATA[
      internal static ISettings GetCommandLineSettings(IFileSystem workingDirectory) { if
      (workingDirectory.FileExists(Constants.SettingsFileName)) { return new Settings(workingDirectory); } return
      Settings.LoadDefaultSettings(); } ]]>
</script><p>And take <em>src/Core/Configuration/Settings.cs</em>:</p>
<script
  type="syntaxhighlighter" class="brush: csharp; "><![CDATA[ public static ISettings LoadDefaultSettings() {
      string appDataPath = Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData); if
      (!String.IsNullOrEmpty(appDataPath)) { var defaultSettingsPath = Path.Combine(appDataPath, "NuGet"); var
      fileSystem = new PhysicalFileSystem(defaultSettingsPath); try { return new Settings(fileSystem); } catch
      (XmlException) { // Work Item 1531: If the config file is malformed and the constructor throws, NuGet fails to
      load in VS. // Returning a null instance prevents us from silently failing. } } // If there is no AppData folder,
      use a null file system to make the Settings object do nothing return NullSettings.Instance; } ]]>
</script><p>So,
  it looked like a chance for me to provide a non-global config file. Still, to make it work I should:</p>
<ul>
  <li>create
    a NuGet.Config file in the working directory
  </li>
  <li>ensure the file is parseable by NuGet</li>
</ul><p>This
  looks to tricky. <strong>It is not possible to make NuGet use custom NuGet.Config file</strong>. I
  created an <a href="http://nuget.codeplex.com/workitem/2364">issue</a>. I wish I could specify a path
  to NuGet.Config file I want to use with an instance of NuGet.exe. </p> <h2>Storing Credentials</h2><p>Ok.
  Now I know where config is. Next was to implement a plugin for NuGet.exe to store feed credentials into it. That
  was not so complicated. The sources of the plugin are found <a
    href="https://github.com/jonnyzzz/NuGet.Passwords">on GitHub</a>. </p><p>The first version of
  code looked like:</p>
<script type="syntaxhighlighter" class="brush: csharp; "><![CDATA[ protected
      override void ExecuteCommandImpl() { var allSources = SourceProvider.LoadPackageSources().ToArray(); Func<PackageSource,
      bool> predicate = x => Source.Equals(x.Source, StringComparison.InvariantCultureIgnoreCase); var source =
      allSources.FirstOrDefault(predicate); if (source == null) { Console.WriteLine("No such source was found. Creating
      new source..."); source = new PackageSource(Source, Source, true); } source.UserName = UserName; source.Password =
      Password; SourceProvider.SavePackageSources( new[]{source}.Union(allSources.Where(x=>!predicate(x))).ToArray()
      ); } ]]>
</script> <p>This was easy. In plugin I simply create or update the feed entry adding
  credentials. That was it. It looked to me that was all I needed to do!</p> <h2>NuGet Problems</h2><p>It
  turned out, NuGet credentials provider <strong>does not work for <em>/$metadata</em> path</strong>.
  That make NuGet to re-query for credentials. I created an <a href="http://nuget.codeplex.com/workitem/2379">issue</a>
  for that too. It looked like current implementation of <em>SettingsCredentialProvider</em> does not
  compare urls in the right way, thus requiring one to re-enter credentials. </p><p>The workaround for
  it was easy. I made my plugin for NuGet to register two NuGet feeds. For given feed <em>http://host/feed</em>
  I register enabled feed <em>http://host/feed</em> and than I register <strong>disabled</strong>
  feed <em>http://host/feed<strong>/$metadata</strong></em>. Finally, that made both
  NuGet.exe and NuGet in Visual Studio use provided credentials. </p> <h2>Post Mortem</h2><p>That
  looked I found the way to make NuGet Authentication work inside continuous integration builds. I decided to make
  it a try</p><p><strong>I failed.</strong></p><p>It turns out <strong><em>SettingsCredentialProvider</em>
  does not take care to provide authentication for package stream urls</strong>. So NuGet.exe requested a
  password to download a package. I expected NuGet.exe authentication mechanism would re-use feed credentials for it
  too. </p><p>Unfortunately, <em>$/metadata</em> workaround idea failed here. It had to
  provide an authentication for <strong>full package download URL</strong>. It is impossible to provide
  explicit credentials for every package stream in the feed.</p><p>I create the <a
  href="http://nuget.codeplex.com/workitem/2389">issue</a> for NuGet to handle it. This issue looks related
  to <a href="http://nuget.codeplex.com/workitem/2379">issue 2379</a>. </p> <h2>Summary</h2><p>Currently
  I failed to make NuGet authentication work smoothly in continuous integration scenario. I with I could implement
  it at some moment in future. </p><p>I collected related issues in <a
  href="http://youtrack.jetbrains.com/issue/TW-20764">TW-20764</a>. The list of NuGet issues for now is:</p>
<ul>
  <li><a href="http://nuget.codeplex.com/workitem/2389">2389</a></li>
  <li><a
    href="http://nuget.codeplex.com/workitem/2383">2383</a></li>
  <li><a
    href="http://nuget.codeplex.com/workitem/2379">2379</a></li>
  <li><a
    href="http://nuget.codeplex.com/workitem/1303">1303</a></li>
  <li><a
    href="http://nuget.codeplex.com/workitem/2364">2364</a></li>
</ul><p><strong>Feel
  free to vote for those issues!</strong></p><p>I like the idea of NuGet. I'd like to say thank
  you for all who involved into NuGet development process. You are doing a great tool that solve problems for
  people!</p><p>I hope we could make the described scenario work. I wish I could use command line or
  create a plugin for NuGet to make feed authentication work.</p>

        
      </div><!-- /.entry-content -->
    </div><!-- /.entry-wrapper -->
    <nav class="pagination" role="navigation">
      
        <a href="/blog/2012/06/24/nuget-and-feed-passwords/" class="btn" title="NuGet and Feed Passwords">Previous</a>
      
      
        <a href="/blog/2012/07/09/agent-parameters-story-updated/" class="btn" title="Agent parameters story updated">Next</a>
      
    </nav><!-- /.pagination -->
  </article>
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo" class="entry-wrapper">
    

<span>
  &copy; 2005—2026 Eugene Petrenko.
  <br />
  Unless otherwise noted, the content on the website is licensed under a
  <a href="https://creativecommons.org/licenses/by-nc-sa/4.0">CC BY-NC-SA 4.0</a> license.
  <br />
  Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using
  the <a href="https://mademistakes.com/work/so-simple-jekyll-theme/" rel="nofollow">So Simple Theme</a>.
</span>
<div class="social-icons">
  <a href="https://x.com/jonnyzzz" title="Eugene Petrenko on X" target="_blank"><svg class="social-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg></a>
  <a href="https://linkedin.com/in/jonnyzzz" title="Eugene Petrenko on LinkedIn" target="_blank"><svg class="social-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77z"/></svg></a>
  <a href="https://github.com/jonnyzzz" title="Eugene Petrenko on Github" target="_blank"><svg class="social-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2z"/></svg></a>
  <a href="https://www.youtube.com/@jonnyzzz" title="Eugene Petrenko on YouTube" target="_blank"><svg class="social-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M23.498 6.186a2.959 2.959 0 0 0-2.079-2.08C19.58 3.6 12 3.6 12 3.6s-7.58 0-9.419.507a2.959 2.959 0 0 0-2.08 2.079C0 8.025 0 12 0 12s0 3.975.501 5.814a2.959 2.959 0 0 0 2.08 2.079C4.42 20.4 12 20.4 12 20.4s7.58 0 9.419-.507a2.959 2.959 0 0 0 2.08-2.079C24 15.975 24 12 24 12s0-3.975-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/></svg></a>
  <a href="/feed.xml" title="Atom/RSS feed"><svg class="social-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.18 15.64a2.18 2.18 0 0 1 2.18 2.18C8.36 19 7.38 20 6.18 20C5 20 4 19 4 17.82a2.18 2.18 0 0 1 2.18-2.18M4 4.44A15.56 15.56 0 0 1 19.56 20h-2.83A12.73 12.73 0 0 0 4 7.27V4.44m0 5.66a9.9 9.9 0 0 1 9.9 9.9h-2.83A7.07 7.07 0 0 0 4 12.93V10.1z"/></svg></a>
</div><!-- /.social-icons -->

  </footer>
</div><!-- /.footer-wrapper -->

<script>
  // Open external links in new tab
  Array.from(document.links).forEach(link => {
    // For development: 0.0.0.0, localhost, 127.0.0.1 are all local
    const localHosts = ['localhost', '127.0.0.1', '0.0.0.0'];
    const linkIsLocal = localHosts.includes(link.hostname);
    const pageIsLocal = localHosts.includes(window.location.hostname);

    // Internal if: both are local dev hosts, or hostnames match exactly
    const isInternal = (linkIsLocal && pageIsLocal) ||
                       (link.hostname === window.location.hostname);

    if (!isInternal) {
      link.target = '_blank';
    }
  });
</script>


<!-- Google Analytics (gtag.js) -->
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('consent', 'default', {
    'ad_storage': 'denied',
    'ad_user_data': 'denied',
    'ad_personalization': 'denied',
    'analytics_storage': 'denied'
  });
</script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-BXXDX0ERFP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-BXXDX0ERFP');
</script>
<!-- End Google Analytics -->

<!-- PostHog Analytics -->
<script>
    !function(t,e){var o,n,p,r;e.__SV||(window.posthog && window.posthog.__loaded)||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.crossOrigin="anonymous",p.async=!0,p.src=s.api_host.replace(".i.posthog.com","-assets.i.posthog.com")+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="init rs ls wi ns us ts ss capture calculateEventProperties vs register register_once register_for_session unregister unregister_for_session gs getFeatureFlag getFeatureFlagPayload getFeatureFlagResult isFeatureEnabled reloadFeatureFlags updateFlags updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures on onFeatureFlags onSurveysLoaded onSessionId getSurveys getActiveMatchingSurveys renderSurvey displaySurvey cancelPendingSurvey canRenderSurvey canRenderSurveyAsync identify setPersonProperties group resetGroups setPersonPropertiesForFlags resetPersonPropertiesForFlags setGroupPropertiesForFlags resetGroupPropertiesForFlags reset get_distinct_id getGroups get_session_id get_session_replay_url alias set_config startSessionRecording stopSessionRecording sessionRecordingStarted captureException startExceptionAutocapture stopExceptionAutocapture loadToolbar get_property getSessionProperty fs ds createPersonProfile setInternalOrTestUser ps Qr opt_in_capturing opt_out_capturing has_opted_in_capturing has_opted_out_capturing get_explicit_consent_status is_capturing clear_opt_in_out_capturing hs debug M cs getPageViewId captureTraceFeedback captureTraceMetric Kr".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
    posthog.init('phc_IPtbjwwy9YIGg0YNHNxYBePijvTvHEcKAjohah6obYW', {
        api_host: 'https://us.i.posthog.com',
        defaults: '2025-11-30',
        person_profiles: 'identified_only',
    })
</script>
<!-- End PostHog Analytics -->




<!--SYNTAX HIGHLIGHTER - Lazy loads PrismJS only when code blocks are present-->
<script>
(function() {
  // Check if page has any code blocks that need highlighting
  if (!document.querySelector('pre code, code[class*="language-"]')) return;

  // Load CSS
  var cssFiles = [
    'https://cdn.jsdelivr.net/npm/prismjs@1.30.0/themes/prism.min.css',
    'https://cdn.jsdelivr.net/npm/prismjs@1.30.0/plugins/line-numbers/prism-line-numbers.min.css',
    'https://cdn.jsdelivr.net/npm/prismjs@1.30.0/plugins/toolbar/prism-toolbar.min.css'
  ];
  cssFiles.forEach(function(href) {
    var link = document.createElement('link');
    link.rel = 'stylesheet';
    link.href = href;
    document.head.appendChild(link);
  });

  // Load JS in sequence (core first, then plugins)
  var jsFiles = [
    'https://cdn.jsdelivr.net/npm/prismjs@1.30.0/components/prism-core.min.js',
    'https://cdn.jsdelivr.net/npm/prismjs@1.30.0/plugins/autoloader/prism-autoloader.min.js',
    'https://cdn.jsdelivr.net/npm/prismjs@1.30.0/plugins/line-numbers/prism-line-numbers.min.js',
    'https://cdn.jsdelivr.net/npm/prismjs@1.30.0/plugins/toolbar/prism-toolbar.min.js',
    'https://cdn.jsdelivr.net/npm/prismjs@1.30.0/plugins/show-language/prism-show-language.min.js',
    'https://cdn.jsdelivr.net/npm/prismjs@1.30.0/plugins/normalize-whitespace/prism-normalize-whitespace.min.js'
  ];

  function loadScript(index) {
    if (index >= jsFiles.length) {
      // All scripts loaded, highlight code
      if (window.Prism) Prism.highlightAll();
      return;
    }
    var script = document.createElement('script');
    script.src = jsFiles[index];
    script.onload = function() { loadScript(index + 1); };
    document.head.appendChild(script);
  }
  loadScript(0);
})();
</script>



</body>
</html>
