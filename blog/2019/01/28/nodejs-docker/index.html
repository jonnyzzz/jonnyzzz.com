<!doctype html>
<html class="no-js" lang="en">
<head>
<meta charset="utf-8" />
<title>Nodejs Builds &#8211; Eugene Petrenko</title>
<meta name="description" content="A build script to build a client-side web application in Docker
"/>
<meta name="keywords" content="jonnyzzz, Евгений Петренко, Eugene Petrenko, docker, javascript, nodejs, webpack, build" />


<!-- Twitter Cards -->
<meta name="twitter:title" content="Nodejs Builds -- Eugene Petrenko" />
<meta name="twitter:description" content="A build script to build a client-side web application in Docker
" />
<meta name="twitter:site" content="@jonnyzzz" />
<meta name="twitter:creator" content="@jonnyzzz" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://jonnyzzz.com/images/me.jpg" />

<!-- Open Graph -->

<meta property="og:type" content="article" />
<meta property="og:image" content="https://jonnyzzz.com/images/me.jpg" />
<meta property="og:title" content="Nodejs Builds -- Eugene Petrenko" />
<meta property="og:description" content="A build script to build a client-side web application in Docker
" />
<meta property="og:url" content="https://jonnyzzz.com/blog/2019/01/28/nodejs-docker/" />
<meta property="og:site_name" content="Eugene Petrenko" />

<meta property="article:tag" content="jonnyzzz" />

<meta property="article:tag" content="Евгений Петренко" />

<meta property="article:tag" content="Eugene Petrenko" />


<meta property="article:tag" content="docker" />

<meta property="article:tag" content="javascript" />

<meta property="article:tag" content="nodejs" />

<meta property="article:tag" content="webpack" />

<meta property="article:tag" content="build" />



<!-- Webmaster Tools verfication -->
<meta name="google-site-verification" content="MJZCyfst2Tx4KyxbOIQu1fZyOSwA_JkQu73zJcfsl2g" />




<link rel="canonical" href="https://jonnyzzz.com/blog/2019/01/28/nodejs-docker/" />
<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="ATOM Feed" />

<meta name="HandheldFriendly" content="True" />
<meta name="MobileOptimized" content="320" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css" />

<link rel="apple-touch-icon" sizes="57x57" href="/images/apple-icon-57x57.png" />
<link rel="apple-touch-icon" sizes="60x60" href="/images/apple-icon-60x60.png" />
<link rel="apple-touch-icon" sizes="72x72" href="/images/apple-icon-72x72.png" />
<link rel="apple-touch-icon" sizes="76x76" href="/images/apple-icon-76x76.png" />
<link rel="apple-touch-icon" sizes="114x114" href="/images/apple-icon-114x114.png" />
<link rel="apple-touch-icon" sizes="120x120" href="/images/apple-icon-120x120.png" />
<link rel="apple-touch-icon" sizes="144x144" href="/images/apple-icon-144x144.png" />
<link rel="apple-touch-icon" sizes="152x152" href="/images/apple-icon-152x152.png" />
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-icon-180x180.png" />
<link rel="icon" type="image/png" sizes="192x192"  href="/images/android-icon-192x192.png" />
<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png" />
<link rel="icon" type="image/png" sizes="96x96" href="/images/favicon-96x96.png" />
<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png" />
<link rel="manifest" href="/images/manifest.json" />
<meta name="msapplication-TileColor" content="#ffffff" />
<meta name="msapplication-TileImage" content="/images/ms-icon-144x144.png" />
<meta name="theme-color" content="#ffffff" />

</head>

<body id="post">

<div class="navigation-wrapper">
	<nav role="navigation" id="site-nav">
	    <ul>
      
		    <li><a href="/" >Home</a></li>
		  
		    <li><a href="/about/" >About</a></li>
		  
		    <li><a href="/blog/" >Blog</a></li>
		  
		    <li><a href="/projects/" >Projects</a></li>
		  
		    <li><a href="/talks/" >Talks</a></li>
		  
		    <li><a href="/tags/" >Tags</a></li>
		  
	    </ul>
	</nav>
</div><!-- /.navigation-wrapper -->

<header class="masthead">
	<div class="wrap">
      
      <h1 class="site-title"><a href="/">Eugene Petrenko</a></h1>
		<h2 class="site-description" itemprop="description">Founding Engineering Leader | Agentic AI DevTools & Experience</h2>
	</div>
</header><!-- /.masthead -->


<div id="main" role="main">
  <article class="hentry">
    
    <div class="entry-wrapper">
      <header class="entry-header">
        <ul class="entry-tags">
          <li><a href="/tags/#docker" title="Pages tagged docker">docker</a></li><li><a href="/tags/#javascript" title="Pages tagged javascript">javascript</a></li><li><a href="/tags/#nodejs" title="Pages tagged nodejs">nodejs</a></li><li><a href="/tags/#webpack" title="Pages tagged webpack">webpack</a></li><li><a href="/tags/#build" title="Pages tagged build">build</a></li>
        </ul>
        
          <h1 class="entry-title">Nodejs Builds</h1>
        
      </header>
      <footer class="entry-meta">
        
        
          <img src="/images/me.jpg" class="bio-photo" alt="Eugene Petrenko bio photo"></a>
        
        <span class="author vcard">By <span class="fn">Eugene Petrenko</span></span>
        <span class="entry-date date published"><time datetime="2019-01-28T00:00:00+00:00">January 28, 2019</time></span>
        
        
        <span class="social-share-x">
  <a href="https://x.com/intent/tweet?hashtags=docker,javascript,nodejs,webpack,build&amp;text=Nodejs%20Builds&amp;url=https://jonnyzzz.com/blog/2019/01/28/nodejs-docker/&amp;via=jonnyzzz" title="Share on X" itemprop="X" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="14" height="14" style="vertical-align: middle; fill: currentColor;"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg> Post</a>
</span>
<span class="social-share-facebook">
  <a href="https://www.facebook.com/sharer/sharer.php?u=https://jonnyzzz.com/blog/2019/01/28/nodejs-docker/" title="Share on Facebook" itemprop="Facebook" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="14" height="14" style="vertical-align: middle; fill: currentColor;"><path d="M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.84 3.44 8.87 8 9.8V15H8v-3h2V9.5C10 7.57 11.57 6 13.5 6H16v3h-2c-.55 0-1 .45-1 1v2h3v3h-3v6.95c5.05-.5 9-4.76 9-9.95z"/></svg> Like</a>
</span>
<!-- /.social-share -->

      </footer>
      <div class="entry-content">
        <p>A build script to build a client-side web application in Docker</p>

<p>It was a challenge. I decided to try to create a web page to demo my HTTP API endpoint. I set myself a goal:
if I do a prototype in 1 hour - I’ll have it for my project. I made it in 1.5 hours thou. 
It will be another story, how I made it deployed (and it include AWS, Terraform, and gotchas). This time,
let’s focus on Node and NPM.</p>

<h2 id="backgrounds">Backgrounds</h2>

<p>The best for a hackathon like projects, when the time is limited, it to get the goal done. 
Surprise, it is not always the super-duper technology, or programming language. 
For me it was obvious - I need to make the site to demo the API endpoint.
Technology stack is up to me.</p>

<p>The time is limited. Pick a technology you know the best. Pick an option, you most
confident with. It is tricky, again, it should be technology that makes <em>goals</em> achievable 
faster. It is not the technology you know, but you cannot make it.</p>

<p>I’m not a web developer professional. I had nothing to pick from.</p>

<p>Ask an expert if you are doubts. <a href="https://www.linkedin.com/in/andrey-skladchikov-94336416a">Andrey</a>
suggested using <a href="https://jetbrains.github.io/ring-ui/master/index.html">Ring UI</a>
library. Right now I’m happy I decided using the library. Frankly, I like the way <a href="https://reactjs.org">React</a>
approaches to web pages.</p>

<p>The best part - Ring UI comes with the generator, the generator generates an alive skeleton
for the website. Now one can start, debug, and build the site. That is it. Of course,
<a href="https://nodejs.org">Node JS</a> is required on the machine. Awesome! I use <a href="https://jetbrains.com/idea">IntelliJ IDEA</a>
with the <a href="https://plugins.jetbrains.com/plugin/6098-nodejs">Node JS Plugin</a> to develop it.</p>

<h2 id="building">Building</h2>

<p>Back from the old days, I remember how painful it can be to build a web site
if you do not have right tooling on your machine. One needs similar tooling for
the CI builds too!</p>

<p>So I wrote few bash scripts to automate it for me. I use Docker image with Node JS. It helps a lot!</p>

<h3 id="dockerfile">Dockerfile</h3>

<p>The <code class="language-plaintext highlighter-rouge">Dockerfile</code>:</p>

<div class="language-dockerfile highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">FROM</span><span class="s"> node:11</span>

<span class="k">RUN </span>apt-get update <span class="o">&amp;&amp;</span> apt-get <span class="nb">install</span> <span class="nt">-y</span> rsync

<span class="k">RUN </span><span class="nb">mkdir</span> /build /build-src

<span class="k">COPY</span><span class="s"> package.json package-lock.json /build/</span>
<span class="k">RUN </span><span class="nb">cd</span> /build <span class="o">&amp;&amp;</span> npm <span class="nb">install</span>
</code></pre></div></div>

<p>All we need to build the project - is an environment with Node, NPM and warm <code class="language-plaintext highlighter-rouge">node_modules</code>. Let’s do it!
The <code class="language-plaintext highlighter-rouge">Dockerfile</code> uses <code class="language-plaintext highlighter-rouge">node:11</code> as the base image to have Node and NPM. Next, we add current <code class="language-plaintext highlighter-rouge">package.json</code>
to install <code class="language-plaintext highlighter-rouge">node_modules</code>. Now <code class="language-plaintext highlighter-rouge">node_modules</code> and NPM caches are pre-packed into the container!</p>

<h3 id="building-1">Building</h3>

<p>As you see from the <code class="language-plaintext highlighter-rouge">Dockerfile</code>, we have <code class="language-plaintext highlighter-rouge">node_modules</code> created in the <code class="language-plaintext highlighter-rouge">/build/</code> folder. Now we need
project sources to be in the folder to run the true build. We must not mix <code class="language-plaintext highlighter-rouge">node_modules</code> from the 
host computer with <code class="language-plaintext highlighter-rouge">node_modules</code> from our Docker container. The fact is, you may have OS-specific binaries
under <code class="language-plaintext highlighter-rouge">node_modules</code>, and it may not play nice if you mix them.</p>

<p>We mount original project sources under <code class="language-plaintext highlighter-rouge">/build-src/</code> folder in docker. We assume the build will
share the compiled site into <code class="language-plaintext highlighter-rouge">/build-dist/</code> folder. I use the following script to make it.</p>

<p>The <code class="language-plaintext highlighter-rouge">build-container.sh</code>:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>
<span class="nb">set</span> <span class="nt">-e</span> <span class="nt">-x</span> <span class="nt">-u</span>


<span class="c">## copy sources into the right folder</span>
rsync <span class="nt">-ai</span> <span class="nt">--delete</span> <span class="nt">--progress</span> /build-src/ /build/ <span class="nt">--exclude</span> node_modules

<span class="c">## do the build</span>
<span class="nb">cd</span> /build
npm run build

<span class="c">## copy results back</span>
rsync <span class="nt">-ai</span> <span class="nt">--delete</span> <span class="nt">--progress</span> /build/dist/  /build-dist/

</code></pre></div></div>

<h3 id="running-in-the-container">Running in the Container</h3>

<p>Let’s start the build in the container. For that, I have the following script.</p>

<p><code class="language-plaintext highlighter-rouge">build.sh</code></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>

<span class="nv">DIR</span><span class="o">=</span><span class="s2">"</span><span class="si">$(</span> <span class="nb">cd</span> <span class="s2">"</span><span class="si">$(</span> <span class="nb">dirname</span> <span class="s2">"</span><span class="k">${</span><span class="nv">BASH_SOURCE</span><span class="p">[0]</span><span class="k">}</span><span class="s2">"</span> <span class="si">)</span><span class="s2">"</span> <span class="o">&amp;&amp;</span> <span class="nb">pwd</span> <span class="si">)</span><span class="s2">"</span>
<span class="nb">set</span> <span class="nt">-e</span> <span class="nt">-x</span> <span class="nt">-u</span>

<span class="nv">IMAGE</span><span class="o">=</span>project-node-js

docker build <span class="nt">--tag</span> <span class="k">${</span><span class="nv">IMAGE</span><span class="k">}</span> <span class="nb">.</span>

<span class="nv">ROOT</span><span class="o">=</span><span class="s2">"</span><span class="si">$(</span><span class="nb">cd</span> <span class="nv">$DIR</span> <span class="o">&amp;&amp;</span> <span class="nb">pwd</span><span class="si">)</span><span class="s2">"</span>
<span class="nv">DIST</span><span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="nv">ROOT</span><span class="k">}</span><span class="s2">/dist"</span>

<span class="nb">rm</span> <span class="nt">-rf</span> <span class="k">${</span><span class="nv">DIST</span><span class="k">}</span>

docker run <span class="nt">-it</span> <span class="nt">--rm</span> <span class="se">\</span>
     <span class="nt">-v</span> <span class="k">${</span><span class="nv">ROOT</span><span class="k">}</span>:/build-src:ro <span class="se">\</span>
     <span class="nt">-v</span> <span class="k">${</span><span class="nv">DIST</span><span class="k">}</span>:/build-dist <span class="se">\</span>
     <span class="k">${</span><span class="nv">IMAGE</span><span class="k">}</span> /build-src/build-container.sh
</code></pre></div></div>

<p>You also need to add the host <code class="language-plaintext highlighter-rouge">node_modules</code> to the <code class="language-plaintext highlighter-rouge">.dockerignore</code> file. It will make <code class="language-plaintext highlighter-rouge">docker build</code> command
to run faster.</p>

<p>The first step - we build the docker container from the <code class="language-plaintext highlighter-rouge">Dockerfile</code>. Docker does incremental
builds for us. A change in <code class="language-plaintext highlighter-rouge">package.json</code> will trigger the container rebuild. Without changes in <code class="language-plaintext highlighter-rouge">package.json</code>,
it will do nothing pretty fast.</p>

<p>The second step - we run the build in the container.</p>

<p>It may be necessary to fix permissions of the files, that you have under the <code class="language-plaintext highlighter-rouge">${DIST}</code> folder on Linux.
That is not needed for builds on Mac, and I assume on Windows.</p>

<h2 id="conclusion">Conclusion</h2>

<p>Now I have a build script for my project. One needs only Docker to build the project. It is essential,
the version of Node is hard-coded in the build scripts, we will need to changes to the environment what it
changes. The CI builds simplified too! We have no duplication between local builds and CI builds. 
Everyone calls the same <code class="language-plaintext highlighter-rouge">build.sh</code> file to make it.</p>

<p>Do you like to try that? Here is a small exercise for you - add the development web server support into the scripts. 
I’ll be happy to see your code and update that post.</p>


        
      </div><!-- /.entry-content -->
    </div><!-- /.entry-wrapper -->
    <nav class="pagination" role="navigation">
      
        <a href="/blog/2019/01/14/kn-intptr/" class="btn" title="Int ptr in Kotlin/Native">Previous</a>
      
      
        <a href="/blog/2019/02/04/companion-and-object/" class="btn" title="JVM Bytecode for Kotlin Object and Companion Object">Next</a>
      
    </nav><!-- /.pagination -->
  </article>
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo" class="entry-wrapper">
    

<span>
  &copy; 2005—2026 Eugene Petrenko.
  <br />
  Unless otherwise noted, the content on the website is licensed under a
  <a href="https://creativecommons.org/licenses/by-nc-sa/4.0">CC BY-NC-SA 4.0</a> license.
  <br />
  Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using
  the <a href="https://mademistakes.com/work/so-simple-jekyll-theme/" rel="nofollow">So Simple Theme</a>.
</span>
<div class="social-icons">
  <a href="https://x.com/jonnyzzz" title="Eugene Petrenko on X" target="_blank"><svg class="social-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg></a>
  <a href="https://linkedin.com/in/jonnyzzz" title="Eugene Petrenko on LinkedIn" target="_blank"><svg class="social-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77z"/></svg></a>
  <a href="https://github.com/jonnyzzz" title="Eugene Petrenko on Github" target="_blank"><svg class="social-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2z"/></svg></a>
  <a href="https://www.youtube.com/@jonnyzzz" title="Eugene Petrenko on YouTube" target="_blank"><svg class="social-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M23.498 6.186a2.959 2.959 0 0 0-2.079-2.08C19.58 3.6 12 3.6 12 3.6s-7.58 0-9.419.507a2.959 2.959 0 0 0-2.08 2.079C0 8.025 0 12 0 12s0 3.975.501 5.814a2.959 2.959 0 0 0 2.08 2.079C4.42 20.4 12 20.4 12 20.4s7.58 0 9.419-.507a2.959 2.959 0 0 0 2.08-2.079C24 15.975 24 12 24 12s0-3.975-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/></svg></a>
  <a href="/feed.xml" title="Atom/RSS feed"><svg class="social-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.18 15.64a2.18 2.18 0 0 1 2.18 2.18C8.36 19 7.38 20 6.18 20C5 20 4 19 4 17.82a2.18 2.18 0 0 1 2.18-2.18M4 4.44A15.56 15.56 0 0 1 19.56 20h-2.83A12.73 12.73 0 0 0 4 7.27V4.44m0 5.66a9.9 9.9 0 0 1 9.9 9.9h-2.83A7.07 7.07 0 0 0 4 12.93V10.1z"/></svg></a>
</div><!-- /.social-icons -->

  </footer>
</div><!-- /.footer-wrapper -->

<script>
  // Open external links in new tab
  Array.from(document.links).forEach(link => {
    // For development: 0.0.0.0, localhost, 127.0.0.1 are all local
    const localHosts = ['localhost', '127.0.0.1', '0.0.0.0'];
    const linkIsLocal = localHosts.includes(link.hostname);
    const pageIsLocal = localHosts.includes(window.location.hostname);

    // Internal if: both are local dev hosts, or hostnames match exactly
    const isInternal = (linkIsLocal && pageIsLocal) ||
                       (link.hostname === window.location.hostname);

    if (!isInternal) {
      link.target = '_blank';
    }
  });
</script>


<!-- Google Analytics (gtag.js) -->
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('consent', 'default', {
    'ad_storage': 'denied',
    'ad_user_data': 'denied',
    'ad_personalization': 'denied',
    'analytics_storage': 'denied'
  });
</script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-BXXDX0ERFP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-BXXDX0ERFP');
</script>
<!-- End Google Analytics -->

<!-- PostHog Analytics -->
<script>
    !function(t,e){var o,n,p,r;e.__SV||(window.posthog && window.posthog.__loaded)||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.crossOrigin="anonymous",p.async=!0,p.src=s.api_host.replace(".i.posthog.com","-assets.i.posthog.com")+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="init rs ls wi ns us ts ss capture calculateEventProperties vs register register_once register_for_session unregister unregister_for_session gs getFeatureFlag getFeatureFlagPayload getFeatureFlagResult isFeatureEnabled reloadFeatureFlags updateFlags updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures on onFeatureFlags onSurveysLoaded onSessionId getSurveys getActiveMatchingSurveys renderSurvey displaySurvey cancelPendingSurvey canRenderSurvey canRenderSurveyAsync identify setPersonProperties group resetGroups setPersonPropertiesForFlags resetPersonPropertiesForFlags setGroupPropertiesForFlags resetGroupPropertiesForFlags reset get_distinct_id getGroups get_session_id get_session_replay_url alias set_config startSessionRecording stopSessionRecording sessionRecordingStarted captureException startExceptionAutocapture stopExceptionAutocapture loadToolbar get_property getSessionProperty fs ds createPersonProfile setInternalOrTestUser ps Qr opt_in_capturing opt_out_capturing has_opted_in_capturing has_opted_out_capturing get_explicit_consent_status is_capturing clear_opt_in_out_capturing hs debug M cs getPageViewId captureTraceFeedback captureTraceMetric Kr".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
    posthog.init('phc_IPtbjwwy9YIGg0YNHNxYBePijvTvHEcKAjohah6obYW', {
        api_host: 'https://us.i.posthog.com',
        defaults: '2025-11-30',
        person_profiles: 'identified_only',
    })
</script>
<!-- End PostHog Analytics -->




<!--SYNTAX HIGHLIGHTER - Lazy loads PrismJS only when code blocks are present-->
<script>
(function() {
  // Check if page has any code blocks that need highlighting
  if (!document.querySelector('pre code, code[class*="language-"]')) return;

  // Load CSS
  var cssFiles = [
    'https://cdn.jsdelivr.net/npm/prismjs@1.30.0/themes/prism.min.css',
    'https://cdn.jsdelivr.net/npm/prismjs@1.30.0/plugins/line-numbers/prism-line-numbers.min.css',
    'https://cdn.jsdelivr.net/npm/prismjs@1.30.0/plugins/toolbar/prism-toolbar.min.css'
  ];
  cssFiles.forEach(function(href) {
    var link = document.createElement('link');
    link.rel = 'stylesheet';
    link.href = href;
    document.head.appendChild(link);
  });

  // Load JS in sequence (core first, then plugins)
  var jsFiles = [
    'https://cdn.jsdelivr.net/npm/prismjs@1.30.0/components/prism-core.min.js',
    'https://cdn.jsdelivr.net/npm/prismjs@1.30.0/plugins/autoloader/prism-autoloader.min.js',
    'https://cdn.jsdelivr.net/npm/prismjs@1.30.0/plugins/line-numbers/prism-line-numbers.min.js',
    'https://cdn.jsdelivr.net/npm/prismjs@1.30.0/plugins/toolbar/prism-toolbar.min.js',
    'https://cdn.jsdelivr.net/npm/prismjs@1.30.0/plugins/show-language/prism-show-language.min.js',
    'https://cdn.jsdelivr.net/npm/prismjs@1.30.0/plugins/normalize-whitespace/prism-normalize-whitespace.min.js'
  ];

  function loadScript(index) {
    if (index >= jsFiles.length) {
      // All scripts loaded, highlight code
      if (window.Prism) Prism.highlightAll();
      return;
    }
    var script = document.createElement('script');
    script.src = jsFiles[index];
    script.onload = function() { loadScript(index + 1); };
    document.head.appendChild(script);
  }
  loadScript(0);
})();
</script>



</body>
</html>
