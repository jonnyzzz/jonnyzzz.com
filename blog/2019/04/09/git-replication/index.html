<!doctype html>
<html class="no-js" lang="en">
<head>
<meta charset="utf-8" />
<title>Efficient Git Replication &#8211; Eugene Petrenko</title>
<meta name="description" content="Deliver the same commits to many Git clones faster"/>
<meta name="keywords" content="jonnyzzz, Евгений Петренко, Eugene Petrenko, git, sync, devops, clouds" />


<!-- Twitter Cards -->
<meta name="twitter:title" content="Efficient Git Replication -- Eugene Petrenko" />
<meta name="twitter:description" content="Deliver the same commits to many Git clones faster" />
<meta name="twitter:site" content="@jonnyzzz" />
<meta name="twitter:creator" content="@jonnyzzz" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://jonnyzzz.com/images/me.jpg" />

<!-- Open Graph -->

<meta property="og:type" content="article" />
<meta property="og:image" content="https://jonnyzzz.com/images/me.jpg" />
<meta property="og:title" content="Efficient Git Replication -- Eugene Petrenko" />
<meta property="og:description" content="Deliver the same commits to many Git clones faster" />
<meta property="og:url" content="https://jonnyzzz.com/blog/2019/04/09/git-replication/" />
<meta property="og:site_name" content="Eugene Petrenko" />

<meta property="article:tag" content="jonnyzzz" />

<meta property="article:tag" content="Евгений Петренко" />

<meta property="article:tag" content="Eugene Petrenko" />


<meta property="article:tag" content="git" />

<meta property="article:tag" content="sync" />

<meta property="article:tag" content="devops" />

<meta property="article:tag" content="clouds" />



<!-- Webmaster Tools verfication -->
<meta name="google-site-verification" content="MJZCyfst2Tx4KyxbOIQu1fZyOSwA_JkQu73zJcfsl2g" />




<link rel="canonical" href="https://jonnyzzz.com/blog/2019/04/09/git-replication/" />
<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="ATOM Feed" />

<meta name="HandheldFriendly" content="True" />
<meta name="MobileOptimized" content="320" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css" />

<link rel="apple-touch-icon" sizes="57x57" href="/images/apple-icon-57x57.png" />
<link rel="apple-touch-icon" sizes="60x60" href="/images/apple-icon-60x60.png" />
<link rel="apple-touch-icon" sizes="72x72" href="/images/apple-icon-72x72.png" />
<link rel="apple-touch-icon" sizes="76x76" href="/images/apple-icon-76x76.png" />
<link rel="apple-touch-icon" sizes="114x114" href="/images/apple-icon-114x114.png" />
<link rel="apple-touch-icon" sizes="120x120" href="/images/apple-icon-120x120.png" />
<link rel="apple-touch-icon" sizes="144x144" href="/images/apple-icon-144x144.png" />
<link rel="apple-touch-icon" sizes="152x152" href="/images/apple-icon-152x152.png" />
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-icon-180x180.png" />
<link rel="icon" type="image/png" sizes="192x192"  href="/images/android-icon-192x192.png" />
<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png" />
<link rel="icon" type="image/png" sizes="96x96" href="/images/favicon-96x96.png" />
<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png" />
<link rel="manifest" href="/images/manifest.json" />
<meta name="msapplication-TileColor" content="#ffffff" />
<meta name="msapplication-TileImage" content="/images/ms-icon-144x144.png" />
<meta name="theme-color" content="#ffffff" />

</head>

<body id="post">

<div class="navigation-wrapper">
	<nav role="navigation" id="site-nav">
	    <ul>
      
		    <li><a href="/" >Home</a></li>
		  
		    <li><a href="/about/" >About</a></li>
		  
		    <li><a href="/blog/" >Blog</a></li>
		  
		    <li><a href="/projects/" >Projects</a></li>
		  
		    <li><a href="/talks/" >Talks</a></li>
		  
		    <li><a href="/tags/" >Tags</a></li>
		  
	    </ul>
	</nav>
</div><!-- /.navigation-wrapper -->

<header class="masthead">
	<div class="wrap">
      
      <h1 class="site-title"><a href="/">Eugene Petrenko</a></h1>
		<h2 class="site-description" itemprop="description">Founding Engineering Leader | Agentic AI DevTools & Experience</h2>
	</div>
</header><!-- /.masthead -->


<div id="main" role="main">
  <article class="hentry">
    
    <div class="entry-wrapper">
      <header class="entry-header">
        <ul class="entry-tags">
          <li><a href="/tags/#git" title="Pages tagged git">git</a></li><li><a href="/tags/#sync" title="Pages tagged sync">sync</a></li><li><a href="/tags/#devops" title="Pages tagged devops">devops</a></li><li><a href="/tags/#clouds" title="Pages tagged clouds">clouds</a></li>
        </ul>
        
          <h1 class="entry-title">Efficient Git Replication</h1>
        
      </header>
      <footer class="entry-meta">
        
        
          <img src="/images/me.jpg" class="bio-photo" alt="Eugene Petrenko bio photo"></a>
        
        <span class="author vcard">By <span class="fn">Eugene Petrenko</span></span>
        <span class="entry-date date published"><time datetime="2019-04-09T00:00:00+00:00">April 09, 2019</time></span>
        
        
        <span class="social-share-x">
  <a href="https://x.com/intent/tweet?hashtags=git,sync,devops,clouds&amp;text=Efficient%20Git%20Replication&amp;url=https://jonnyzzz.com/blog/2019/04/09/git-replication/&amp;via=jonnyzzz" title="Share on X" itemprop="X" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="14" height="14" style="vertical-align: middle; fill: currentColor;"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg> Post</a>
</span>
<span class="social-share-facebook">
  <a href="https://www.facebook.com/sharer/sharer.php?u=https://jonnyzzz.com/blog/2019/04/09/git-replication/" title="Share on Facebook" itemprop="Facebook" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="14" height="14" style="vertical-align: middle; fill: currentColor;"><path d="M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.84 3.44 8.87 8 9.8V15H8v-3h2V9.5C10 7.57 11.57 6 13.5 6H16v3h-2c-.55 0-1 .45-1 1v2h3v3h-3v6.95c5.05-.5 9-4.76 9-9.95z"/></svg> Like</a>
</span>
<!-- /.social-share -->

      </footer>
      <div class="entry-content">
        <p>How do we deliver new commits to a bunch of copies of the same
Git repository on different machines? The naive way is to run <code class="language-plaintext highlighter-rouge">git fetch</code> (or <code class="language-plaintext highlighter-rouge">git pull</code>)
on every copy. That works, but it repeats the Git protocol negotiation,
SHA hash computations, delta application, and disk I/O on every CI agent
and on every developer laptop.</p>

<p>I want the same commits to arrive with less CPU and less waiting.
Let me describe the replication pattern that works for me.</p>

<p>Why bother?</p>
<ul>
  <li>Faster clean checkouts on CI (and for demos).</li>
  <li>Lower load on the main Git server.</li>
  <li>Fewer random pauses in IDE Git operations for a whole team.</li>
  <li>Works with any Git hosting (GitHub, GitLab, bare).</li>
</ul>

<p>Default: everyone hits Git directly:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>--------                               -----------
| Git  |  &lt;---------------------  N *  | Clients |
--------                               -----------
</code></pre></div></div>

<p>The protocol is efficient, but the server still has to negotiate
with every client, recompute deltas, and send a unique <code class="language-plaintext highlighter-rouge">.pack</code>
file per request. Each client then verifies and indexes that pack.</p>

<p>Let’s add a middle-man:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>--------        ---------              -----------
| Git  |  &lt;---  | Proxy |  &lt;----  N *  | Clients |
--------        ---------              -----------
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">Git</code> is the main remote (GitHub.com or similar). The <code class="language-plaintext highlighter-rouge">Proxy</code>
is a bare mirror that lives closer to clients or CI machines.
We will reuse its pack files and a prebuilt checkout instead of
asking the main server to stream packs for every request.</p>

<h2 id="setting-up-the-proxy">Setting up the Proxy</h2>

<p>The proxy is just a bare clone:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone --mirror &lt;main-url&gt; proxy.git
</code></pre></div></div>

<p>Keep it up to date. Two options:</p>
<ul>
  <li>Push notifications (webhook) from the main server that runs
<code class="language-plaintext highlighter-rouge">git fetch --all --prune --keep</code> in <code class="language-plaintext highlighter-rouge">proxy.git</code>.</li>
  <li>A cron job that runs the same command every few minutes.</li>
</ul>

<p>In many setups you already have such a clone: a CI server that
needs the repository, or a code review server. Reuse it.</p>

<p>Avoid running <code class="language-plaintext highlighter-rouge">git gc</code> on every client. 
Run GC on the proxy first,
then resync clients from it.</p>

<h2 id="clean-checkout-once-reuse-everywhere">Clean checkout once, reuse everywhere</h2>

<p>A fresh clone is the slowest operation on a CI farm. We generate
two cached artifacts on the proxy after every fetch:</p>
<ul>
  <li>A tarball of <code class="language-plaintext highlighter-rouge">.git/objects/pack</code> (no negotiation required).</li>
  <li>An optional <code class="language-plaintext highlighter-rouge">git archive</code> of a default branch for the working tree.</li>
</ul>

<p>Both artifacts can be served over HTTP (a CDN works great).</p>

<p>Client steps for a clean checkout:</p>
<ol>
  <li>Download the packed objects tarball and unpack it into <code class="language-plaintext highlighter-rouge">.git/objects/pack</code>.</li>
  <li>Download the working tree archive (if you care about files), unpack it.</li>
  <li>Run <code class="language-plaintext highlighter-rouge">git reset --hard &lt;commit&gt;</code> to put the working tree at the exact
commit you need. If the archive lags behind, do a quick <code class="language-plaintext highlighter-rouge">git fetch</code>
from the proxy to fix heads; no objects will be downloaded because
they are already on disk.</li>
</ol>

<p>Why is it faster? We download static archives instead of asking Git to
compute and stream a new pack per client. SHA checksums and delta
resolution were already done once on the proxy.</p>

<h2 id="incremental-updates-without-negotiation">Incremental updates without negotiation</h2>

<p>For regular updates we reuse pack files again. Each client stores a
<code class="language-plaintext highlighter-rouge">last-sync</code> timestamp. To update:</p>
<ol>
  <li>Copy new <code class="language-plaintext highlighter-rouge">.pack</code> and <code class="language-plaintext highlighter-rouge">.idx</code> files from <code class="language-plaintext highlighter-rouge">proxy.git/objects/pack</code>
that are newer than the timestamp (HTTP, rsync, or a shared disk).</li>
  <li>Update the timestamp.</li>
  <li>Fix references:
    <ul>
      <li>Simplest: run <code class="language-plaintext highlighter-rouge">git fetch --all --prune --keep proxy</code>. It will be
a reference-only update because all objects are already present.</li>
      <li>If you already know the commit (CI build trigger), skip negotiation
entirely and call <code class="language-plaintext highlighter-rouge">git update-ref</code> for the branch or detached HEAD.</li>
    </ul>
  </li>
</ol>

<p>The Git protocol still runs in step 3, but it does not need to send
a pack file, so the cost is tiny compared to a full fetch.</p>

<h2 id="what-can-go-wrong">What can go wrong?</h2>

<ul>
  <li>Not distributed. We trade some Git decentralization for speed. If
the proxy is down, clients can always fall back to the main remote.</li>
  <li>Garbage collection. A GC on the proxy may drop objects still needed
by a client. Prefer to rebuild the client from a fresh proxy snapshot
instead of running GC locally.</li>
  <li>Thin packs. If a proxy receives a thin pack and we copy only new
files, a client may miss a base object. Verify with
<code class="language-plaintext highlighter-rouge">git verify-pack</code> and fall back to copying the full <code class="language-plaintext highlighter-rouge">objects/pack</code>
directory or to a normal <code class="language-plaintext highlighter-rouge">git fetch</code> when needed.</li>
  <li>Integrity. Copying files is simple, but still check them. An
occasional <code class="language-plaintext highlighter-rouge">git fsck</code> on the proxy helps to avoid surprises.</li>
</ul>

<p>Bitmap indexes? They are nice to speed up proxy repacks
(<code class="language-plaintext highlighter-rouge">git repack -adb --write-bitmap-index</code>) but are not required
on the clients.</p>

<h2 id="why-this-works">Why this works</h2>

<p><code class="language-plaintext highlighter-rouge">git fetch</code> normally:</p>
<ul>
  <li>Lists local heads and remote heads.</li>
  <li>Negotiates common commits.</li>
  <li>Asks the server to build a <code class="language-plaintext highlighter-rouge">.pack</code> with missing objects.</li>
  <li>Downloads the pack, verifies hashes, writes <code class="language-plaintext highlighter-rouge">.idx</code>, updates refs.</li>
</ul>

<p>We still rely on Git for the last step (ref updates) but reuse the
already-built pack files from the proxy. That removes the CPU and disk
cost of building and indexing a new pack for every client.</p>

<p>This pattern works well for CI farms and for IDEs that keep their own
hidden clones. It is also a cheap way to host a Git mirror in a local
network. Give it a try and let me know how it works for you.</p>

        
      </div><!-- /.entry-content -->
    </div><!-- /.entry-wrapper -->
    <nav class="pagination" role="navigation">
      
        <a href="/blog/2019/04/02/gradle-kotlin-migration-2/" class="btn" title="Migrating to Gradle Kotlin DSL - Kotlin">Previous</a>
      
      
        <a href="/blog/2019/04/29/terraform-waf/" class="btn" title="IP Whitelist for WAF Rules and Security Groups">Next</a>
      
    </nav><!-- /.pagination -->
  </article>
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo" class="entry-wrapper">
    

<span>
  &copy; 2005—2026 Eugene Petrenko.
  <br />
  Unless otherwise noted, the content on the website is licensed under a
  <a href="https://creativecommons.org/licenses/by-nc-sa/4.0">CC BY-NC-SA 4.0</a> license.
  <br />
  Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using
  the <a href="https://mademistakes.com/work/so-simple-jekyll-theme/" rel="nofollow">So Simple Theme</a>.
</span>
<div class="social-icons">
  <a href="https://x.com/jonnyzzz" title="Eugene Petrenko on X" target="_blank"><svg class="social-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg></a>
  <a href="https://linkedin.com/in/jonnyzzz" title="Eugene Petrenko on LinkedIn" target="_blank"><svg class="social-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77z"/></svg></a>
  <a href="https://github.com/jonnyzzz" title="Eugene Petrenko on Github" target="_blank"><svg class="social-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2z"/></svg></a>
  <a href="https://www.youtube.com/@jonnyzzz" title="Eugene Petrenko on YouTube" target="_blank"><svg class="social-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M23.498 6.186a2.959 2.959 0 0 0-2.079-2.08C19.58 3.6 12 3.6 12 3.6s-7.58 0-9.419.507a2.959 2.959 0 0 0-2.08 2.079C0 8.025 0 12 0 12s0 3.975.501 5.814a2.959 2.959 0 0 0 2.08 2.079C4.42 20.4 12 20.4 12 20.4s7.58 0 9.419-.507a2.959 2.959 0 0 0 2.08-2.079C24 15.975 24 12 24 12s0-3.975-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/></svg></a>
  <a href="/feed.xml" title="Atom/RSS feed"><svg class="social-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.18 15.64a2.18 2.18 0 0 1 2.18 2.18C8.36 19 7.38 20 6.18 20C5 20 4 19 4 17.82a2.18 2.18 0 0 1 2.18-2.18M4 4.44A15.56 15.56 0 0 1 19.56 20h-2.83A12.73 12.73 0 0 0 4 7.27V4.44m0 5.66a9.9 9.9 0 0 1 9.9 9.9h-2.83A7.07 7.07 0 0 0 4 12.93V10.1z"/></svg></a>
</div><!-- /.social-icons -->

  </footer>
</div><!-- /.footer-wrapper -->

<script>
  // Open external links in new tab
  Array.from(document.links).forEach(link => {
    // For development: 0.0.0.0, localhost, 127.0.0.1 are all local
    const localHosts = ['localhost', '127.0.0.1', '0.0.0.0'];
    const linkIsLocal = localHosts.includes(link.hostname);
    const pageIsLocal = localHosts.includes(window.location.hostname);

    // Internal if: both are local dev hosts, or hostnames match exactly
    const isInternal = (linkIsLocal && pageIsLocal) ||
                       (link.hostname === window.location.hostname);

    if (!isInternal) {
      link.target = '_blank';
    }
  });
</script>


<!-- Google Analytics (gtag.js) -->
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('consent', 'default', {
    'ad_storage': 'denied',
    'ad_user_data': 'denied',
    'ad_personalization': 'denied',
    'analytics_storage': 'denied'
  });
</script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-BXXDX0ERFP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-BXXDX0ERFP');
</script>
<!-- End Google Analytics -->

<!-- PostHog Analytics -->
<script>
    !function(t,e){var o,n,p,r;e.__SV||(window.posthog && window.posthog.__loaded)||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.crossOrigin="anonymous",p.async=!0,p.src=s.api_host.replace(".i.posthog.com","-assets.i.posthog.com")+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="init rs ls wi ns us ts ss capture calculateEventProperties vs register register_once register_for_session unregister unregister_for_session gs getFeatureFlag getFeatureFlagPayload getFeatureFlagResult isFeatureEnabled reloadFeatureFlags updateFlags updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures on onFeatureFlags onSurveysLoaded onSessionId getSurveys getActiveMatchingSurveys renderSurvey displaySurvey cancelPendingSurvey canRenderSurvey canRenderSurveyAsync identify setPersonProperties group resetGroups setPersonPropertiesForFlags resetPersonPropertiesForFlags setGroupPropertiesForFlags resetGroupPropertiesForFlags reset get_distinct_id getGroups get_session_id get_session_replay_url alias set_config startSessionRecording stopSessionRecording sessionRecordingStarted captureException startExceptionAutocapture stopExceptionAutocapture loadToolbar get_property getSessionProperty fs ds createPersonProfile setInternalOrTestUser ps Qr opt_in_capturing opt_out_capturing has_opted_in_capturing has_opted_out_capturing get_explicit_consent_status is_capturing clear_opt_in_out_capturing hs debug M cs getPageViewId captureTraceFeedback captureTraceMetric Kr".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
    posthog.init('phc_IPtbjwwy9YIGg0YNHNxYBePijvTvHEcKAjohah6obYW', {
        api_host: 'https://us.i.posthog.com',
        defaults: '2025-11-30',
        person_profiles: 'identified_only',
    })
</script>
<!-- End PostHog Analytics -->




<!--SYNTAX HIGHLIGHTER - Lazy loads PrismJS only when code blocks are present-->
<script>
(function() {
  // Check if page has any code blocks that need highlighting
  if (!document.querySelector('pre code, code[class*="language-"]')) return;

  // Load CSS
  var cssFiles = [
    'https://cdn.jsdelivr.net/npm/prismjs@1.30.0/themes/prism.min.css',
    'https://cdn.jsdelivr.net/npm/prismjs@1.30.0/plugins/line-numbers/prism-line-numbers.min.css',
    'https://cdn.jsdelivr.net/npm/prismjs@1.30.0/plugins/toolbar/prism-toolbar.min.css'
  ];
  cssFiles.forEach(function(href) {
    var link = document.createElement('link');
    link.rel = 'stylesheet';
    link.href = href;
    document.head.appendChild(link);
  });

  // Load JS in sequence (core first, then plugins)
  var jsFiles = [
    'https://cdn.jsdelivr.net/npm/prismjs@1.30.0/components/prism-core.min.js',
    'https://cdn.jsdelivr.net/npm/prismjs@1.30.0/plugins/autoloader/prism-autoloader.min.js',
    'https://cdn.jsdelivr.net/npm/prismjs@1.30.0/plugins/line-numbers/prism-line-numbers.min.js',
    'https://cdn.jsdelivr.net/npm/prismjs@1.30.0/plugins/toolbar/prism-toolbar.min.js',
    'https://cdn.jsdelivr.net/npm/prismjs@1.30.0/plugins/show-language/prism-show-language.min.js',
    'https://cdn.jsdelivr.net/npm/prismjs@1.30.0/plugins/normalize-whitespace/prism-normalize-whitespace.min.js'
  ];

  function loadScript(index) {
    if (index >= jsFiles.length) {
      // All scripts loaded, highlight code
      if (window.Prism) Prism.highlightAll();
      return;
    }
    var script = document.createElement('script');
    script.src = jsFiles[index];
    script.onload = function() { loadScript(index + 1); };
    document.head.appendChild(script);
  }
  loadScript(0);
})();
</script>



</body>
</html>
