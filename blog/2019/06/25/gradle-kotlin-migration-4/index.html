<!doctype html>
<html class="no-js" lang="en">
<head>
<meta charset="utf-8" />
<title>Migrating to Gradle Kotlin DSL - Groovy Closure &#8211; Eugene Petrenko</title>
<meta name="description" content="Groovy Closures and Gradle Kotlin DSL"/>
<meta name="keywords" content="jonnyzzz, Евгений Петренко, Eugene Petrenko, gradle, gradle/groovy, gradle/kotlin, kts, kotlin, groovy, build" />


<!-- Twitter Cards -->
<meta name="twitter:title" content="Migrating to Gradle Kotlin DSL - Groovy Closure -- Eugene Petrenko" />
<meta name="twitter:description" content="Groovy Closures and Gradle Kotlin DSL" />
<meta name="twitter:site" content="@jonnyzzz" />
<meta name="twitter:creator" content="@jonnyzzz" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://jonnyzzz.com/images/me.jpg" />

<!-- Open Graph -->

<meta property="og:type" content="article" />
<meta property="og:image" content="https://jonnyzzz.com/images/me.jpg" />
<meta property="og:title" content="Migrating to Gradle Kotlin DSL - Groovy Closure -- Eugene Petrenko" />
<meta property="og:description" content="Groovy Closures and Gradle Kotlin DSL" />
<meta property="og:url" content="https://jonnyzzz.com/blog/2019/06/25/gradle-kotlin-migration-4/" />
<meta property="og:site_name" content="Eugene Petrenko" />

<meta property="article:tag" content="jonnyzzz" />

<meta property="article:tag" content="Евгений Петренко" />

<meta property="article:tag" content="Eugene Petrenko" />


<meta property="article:tag" content="gradle" />

<meta property="article:tag" content="gradle/groovy" />

<meta property="article:tag" content="gradle/kotlin" />

<meta property="article:tag" content="kts" />

<meta property="article:tag" content="kotlin" />

<meta property="article:tag" content="groovy" />

<meta property="article:tag" content="build" />



<!-- Webmaster Tools verfication -->
<meta name="google-site-verification" content="MJZCyfst2Tx4KyxbOIQu1fZyOSwA_JkQu73zJcfsl2g" />




<link rel="canonical" href="https://jonnyzzz.com/blog/2019/06/25/gradle-kotlin-migration-4/" />
<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="ATOM Feed" />

<meta name="HandheldFriendly" content="True" />
<meta name="MobileOptimized" content="320" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css" />

<link rel="apple-touch-icon" sizes="57x57" href="/images/apple-icon-57x57.png" />
<link rel="apple-touch-icon" sizes="60x60" href="/images/apple-icon-60x60.png" />
<link rel="apple-touch-icon" sizes="72x72" href="/images/apple-icon-72x72.png" />
<link rel="apple-touch-icon" sizes="76x76" href="/images/apple-icon-76x76.png" />
<link rel="apple-touch-icon" sizes="114x114" href="/images/apple-icon-114x114.png" />
<link rel="apple-touch-icon" sizes="120x120" href="/images/apple-icon-120x120.png" />
<link rel="apple-touch-icon" sizes="144x144" href="/images/apple-icon-144x144.png" />
<link rel="apple-touch-icon" sizes="152x152" href="/images/apple-icon-152x152.png" />
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-icon-180x180.png" />
<link rel="icon" type="image/png" sizes="192x192"  href="/images/android-icon-192x192.png" />
<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png" />
<link rel="icon" type="image/png" sizes="96x96" href="/images/favicon-96x96.png" />
<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png" />
<link rel="manifest" href="/images/manifest.json" />
<meta name="msapplication-TileColor" content="#ffffff" />
<meta name="msapplication-TileImage" content="/images/ms-icon-144x144.png" />
<meta name="theme-color" content="#ffffff" />

</head>

<body id="post">

<div class="navigation-wrapper">
	<nav role="navigation" id="site-nav">
	    <ul>
      
		    <li><a href="/" >Home</a></li>
		  
		    <li><a href="/about/" >About</a></li>
		  
		    <li><a href="/blog/" >Blog</a></li>
		  
		    <li><a href="/projects/" >Projects</a></li>
		  
		    <li><a href="/talks/" >Talks</a></li>
		  
		    <li><a href="/tags/" >Tags</a></li>
		  
	    </ul>
	</nav>
</div><!-- /.navigation-wrapper -->

<header class="masthead">
	<div class="wrap">
      
      <h1 class="site-title"><a href="/">Eugene Petrenko</a></h1>
		<h2 class="site-description" itemprop="description">Founding Engineering Leader | Agentic AI DevTools & Experience</h2>
	</div>
</header><!-- /.masthead -->


<div id="main" role="main">
  <article class="hentry">
    
    <div class="entry-wrapper">
      <header class="entry-header">
        <ul class="entry-tags">
          <li><a href="/tags/#gradle" title="Pages tagged gradle">gradle</a></li><li><a href="/tags/#gradle/groovy" title="Pages tagged gradle/groovy">gradle/groovy</a></li><li><a href="/tags/#gradle/kotlin" title="Pages tagged gradle/kotlin">gradle/kotlin</a></li><li><a href="/tags/#kts" title="Pages tagged kts">kts</a></li><li><a href="/tags/#kotlin" title="Pages tagged kotlin">kotlin</a></li><li><a href="/tags/#groovy" title="Pages tagged groovy">groovy</a></li><li><a href="/tags/#build" title="Pages tagged build">build</a></li>
        </ul>
        
          <h1 class="entry-title">Migrating to Gradle Kotlin DSL - Groovy Closure</h1>
        
      </header>
      <footer class="entry-meta">
        
        
          <img src="/images/me.jpg" class="bio-photo" alt="Eugene Petrenko bio photo"></a>
        
        <span class="author vcard">By <span class="fn">Eugene Petrenko</span></span>
        <span class="entry-date date published"><time datetime="2019-06-25T00:00:00+00:00">June 25, 2019</time></span>
        
        
        <span class="social-share-x">
  <a href="https://x.com/intent/tweet?hashtags=gradle,gradle/groovy,gradle/kotlin,kts,kotlin,groovy,build&amp;text=Migrating%20to%20Gradle%20Kotlin%20DSL%20-%20Groovy%20Closure&amp;url=https://jonnyzzz.com/blog/2019/06/25/gradle-kotlin-migration-4/&amp;via=jonnyzzz" title="Share on X" itemprop="X" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="14" height="14" style="vertical-align: middle; fill: currentColor;"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg> Post</a>
</span>
<span class="social-share-facebook">
  <a href="https://www.facebook.com/sharer/sharer.php?u=https://jonnyzzz.com/blog/2019/06/25/gradle-kotlin-migration-4/" title="Share on Facebook" itemprop="Facebook" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="14" height="14" style="vertical-align: middle; fill: currentColor;"><path d="M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.84 3.44 8.87 8 9.8V15H8v-3h2V9.5C10 7.57 11.57 6 13.5 6H16v3h-2c-.55 0-1 .45-1 1v2h3v3h-3v6.95c5.05-.5 9-4.76 9-9.95z"/></svg> Like</a>
</span>
<!-- /.social-share -->

      </footer>
      <div class="entry-content">
        <p>While migrating the real-life project’s Gradle build from Groovy to Kotlin,
I collected some useful recommendations, code snippets, and explanations.
Throughout the post series, we will together learn how to
convert to Gradle Kotlin DSL faster and easier.</p>

<p>New to Gradle Kotlin DSL? Take a look at the 
<a href="/blog/2019/03/04/gradle-kotlin-migration-1/">first post</a>
for practical recommendations on migrating from Groovy to Kotlin
build scripts. In the <a href="/blog/2019/04/02/gradle-kotlin-migration-2/">second post</a>,
we cover Kotlin tasks setup on Gradle Kotlin DSL scripts. Few more findings of mine
towards <code class="language-plaintext highlighter-rouge">buildSrc</code>, plugins and extensions are presented in the 
<a href="/blog/2019/05/20/gradle-kotlin-migration-3/">third post</a>.</p>

<p>In that post, I’ll share my findings for the
migrating a Groovy Closure to Gradle Kotlin DSL. In that post
you’ll learn how to step-by-step migrate a Gradle script with Groovy
closure usages into Kotlin DSL.</p>

<h2 id="dependencies">Dependencies</h2>

<p>I’ve seen many times in different Gradle projects an attempt to
list all dependencies in some file in the root project and fix versions of all
used libraries in one place so that only a library name is used in a dependency
and its version written only once for the whole project. It helps one to avoid an unexpected library
version clashes in a multi-project Gradle project. For example, how many
different versions of say <code class="language-plaintext highlighter-rouge">OkHttp</code> or <code class="language-plaintext highlighter-rouge">Jackson</code> do you have in your project?
Of course, another version of the same dependency may come from
transitive dependencies, it is another story, we will not cover it
in that blog post.</p>

<p>I’ve implemented a similar pattern to list all dependencies in the root Gradle project.
Let’s see how I migrated my Groovy solution to Kotlin.</p>

<h2 id="groovy-script-dependencies">Groovy Script Dependencies</h2>

<p>Let’s assume we need to add a dependency to <code class="language-plaintext highlighter-rouge">OkHttp</code> library in a sub-project. We’d like to
use common library definition for all sub-projects. I found it elegant to create a Groovy
closure in the root project for such a definition:</p>
<div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">ext</span> <span class="o">{</span>
  <span class="n">dependency_okhttp</span> <span class="o">=</span> <span class="o">{</span> <span class="n">Project</span> <span class="n">project</span> <span class="o">-&gt;</span>
     <span class="n">project</span><span class="o">.</span><span class="na">dependencies</span> <span class="o">{</span> 
        <span class="n">compile</span> <span class="s1">'com.squareup.okhttp3:okhttp:3.12.1'</span>
     <span class="o">}</span>  
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Do not ask me, why do I have the <code class="language-plaintext highlighter-rouge">Project</code> parameter in that function/closure. Technically, it is not
needed, but I was lazy to remove it from the code. Now it is time to finally do that (and convert to
Kotlin DSL)!</p>

<p>Meanwhile, the usage in Groovy was easy and strait forward:</p>
<div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">ext</span><span class="o">.</span><span class="na">dependency_okhttp</span><span class="o">(</span><span class="n">project</span><span class="o">)</span>
</code></pre></div></div>

<h2 id="gradle-kotlin-dsl">Gradle Kotlin DSL</h2>

<p>To follow the <a href="/blog/2019/03/04/gradle-kotlin-migration-1/">one-by-one migration strategy</a>
we need the way to call the same code from Kotlin DSL.
I found the following code for it:</p>
<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="n">project</span><span class="p">.</span><span class="n">extensions</span><span class="p">.</span><span class="n">extraProperties</span><span class="p">[</span><span class="s">"dependency_okhttp"</span><span class="p">]</span> <span class="k">as</span> <span class="nc">Closure</span><span class="p">&lt;</span><span class="err">*</span><span class="p">&gt;).</span><span class="nf">call</span><span class="p">(</span><span class="n">project</span><span class="p">)</span>
</code></pre></div></div>

<p>The code is indeed problematic. When I migrate the <code class="language-plaintext highlighter-rouge">dependency_okhttp</code> property
definition to Kotlin, I will have to fix every usage of it and replace the cast 
to <code class="language-plaintext highlighter-rouge">Closure&lt;*&gt;</code> with a cast to, say, <code class="language-plaintext highlighter-rouge">Function1&lt;Project,*&gt;</code> or something different</p>

<h2 id="moving-ext-to-buildsrc-and-kotlin">Moving ext to buildSrc and Kotlin</h2>

<p>The better place for all extensions in Kotlin (also in Groovy) is <code class="language-plaintext highlighter-rouge">buildSrc</code>.
We’ve <a href="/blog/2019/05/20/gradle-kotlin-migration-3/">covered it</a> in the
previous post. Let’s move the definition of the <code class="language-plaintext highlighter-rouge">dependency_okhttp</code> function into Kotlin code 
and place the code under the <code class="language-plaintext highlighter-rouge">buildSrc</code> folder. For that, I created a Kotlin file and added the
following function there:</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="nn">x.y.z</span>
<span class="k">fun</span> <span class="nc">DependencyHandlerScope</span><span class="p">.</span><span class="nf">dependency_okhttp</span><span class="p">()</span> <span class="p">{</span>
  <span class="s">"implementation"</span><span class="p">(</span><span class="s">"com.squareup.okhttp3:okhttp:3.12.1"</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Now we can use the function in Gradle/Kotlin directly in the <code class="language-plaintext highlighter-rouge">dependencies{..}</code> block:</p>
<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">x.y.z.*</span>
<span class="nf">dependencies</span> <span class="p">{</span>
  <span class="nf">dependency_okhttp</span><span class="p">()</span>
<span class="p">}</span>  
</code></pre></div></div>

<p>The usage is now clean and short, which is great. The only price for that is the <code class="language-plaintext highlighter-rouge">import</code> statement. 
We need to import the package, where our declaration is to all our <code class="language-plaintext highlighter-rouge">build.gradle.kts</code> project files.
I wish it were possible to tell Gradle to implicitly import several
more packages into Kotlin DSL script execution context.</p>

<p>The <code class="language-plaintext highlighter-rouge">DependencyHandlerScope</code> type is the receiver type of the lambda behind the <code class="language-plaintext highlighter-rouge">dependencies{}</code> function.
There is yet another issue — we cannot use <code class="language-plaintext highlighter-rouge">implementation</code> inside <code class="language-plaintext highlighter-rouge">dependencies{}</code> block
in the <code class="language-plaintext highlighter-rouge">buildSrc</code> code. Instead, we may to use <code class="language-plaintext highlighter-rouge">"implementation"</code> string.
I’m <a href="https://gradle-community.slack.com/archives/CAD95CR62/p1549364199106400">looking for the answer</a>
to that. It seems the <code class="language-plaintext highlighter-rouge">implementation</code> function is
generated on the fly by Gradle’s Kotlin scripts runtime, and it is not included into the 
<code class="language-plaintext highlighter-rouge">buildSrc</code> evaluation environment.</p>

<h2 id="calling-kotlin-buildsrc-from-groovy">Calling Kotlin buildSrc from Groovy</h2>

<p>To start with, do not forget to use the <code class="language-plaintext highlighter-rouge">new</code> operator to create objects in Groovy. It is
so easy to forget after dealing with Kotlin. I paid about a dozen minutes debugging that.</p>

<p>By that moment, we have all the extension function <code class="language-plaintext highlighter-rouge">DependencyHandlerScope.dependency_okhttp</code>
declared in Kotlin DSL under the <code class="language-plaintext highlighter-rouge">buildSrc</code>. Let’s see how to call the function from
<code class="language-plaintext highlighter-rouge">build.gradle</code> files and Groovy. In other words, it is the challenge to re-implement
the older Groovy <code class="language-plaintext highlighter-rouge">ext</code> closures in all original gradle scripts.</p>

<p>Our goal is to call the <code class="language-plaintext highlighter-rouge">DependencyHandlerScope.dependency_okhttp</code> function from Groovy.
We only need an instance of the <code class="language-plaintext highlighter-rouge">DependencyHandlerScope</code>, which is only used on Kotlin DSL, to make
the call to our Kotlin extension function.
The <code class="language-plaintext highlighter-rouge">DependencyHandlerScope</code> class has the <code class="language-plaintext highlighter-rouge">of</code> factory function in its
<code class="language-plaintext highlighter-rouge">companion object</code>, but it is not a <em>static</em> function, it misses the <code class="language-plaintext highlighter-rouge">@JvmStatic</code> annotation!</p>

<h2 id="kotlin-to-jvm-interop">Kotlin to JVM Interop</h2>

<p>Global functions (such as <code class="language-plaintext highlighter-rouge">dependency_okhttp</code>) are compiled by the Kotlin/JVM compiler
to a <code class="language-plaintext highlighter-rouge">FilenameKt</code> class static member functions. We need to <code class="language-plaintext highlighter-rouge">import static</code> that
class when calling Kotlin functions from Groovy or Java. The short solution, but
it took several dozen minutes for me to figure out.</p>

<p>To simplify, we may just add a global <code class="language-plaintext highlighter-rouge">import static &lt;package&gt;.&lt;KotlinFileName&gt;Kt.*;</code> to our Groovy
scripts and then call all our Kotlin global functions without a qualifier. That also applies
to the <code class="language-plaintext highlighter-rouge">dependency_okhttp()</code> function that we have under <code class="language-plaintext highlighter-rouge">buildSrc</code>.</p>

<p>One more thing is that the <code class="language-plaintext highlighter-rouge">dependency_okhttp()</code> function is an <em>extension function</em>.
How can we call it from Groovy?</p>

<p>Kotlin extension functions have the receiver parameter as the very first parameter at the JVM bytecode level.
We may call extension functions from Groovy or Java as an ordinary method passing the receiver object instance
as the first parameter.</p>

<p>Accessing functions from <code class="language-plaintext highlighter-rouge">object</code> or <code class="language-plaintext highlighter-rouge">companion object</code> is in general a bit more tricky. 
Use the following syntax to access Kotlin declarations from Groovy:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">@JvmStatic</code> annotation is present — Call as a static function</li>
  <li>Kotlin <code class="language-plaintext highlighter-rouge">object</code> — use <code class="language-plaintext highlighter-rouge">TypeName.INSTANCE.functionName</code></li>
  <li>Kotlin <code class="language-plaintext highlighter-rouge">companion object</code> — use <code class="language-plaintext highlighter-rouge">TypeName.@Companion.functionName</code></li>
</ul>

<p>You may find more details in the
<a href="/blog/2019/02/04/companion-and-object/">JVM bytecode for Kotlin Object and Companion Object</a>
declarations post. Frankly, I was happy to find the possibility to write <code class="language-plaintext highlighter-rouge">@Companion</code> in Groovy.</p>

<h2 id="calling-kotlin-from-groovy">Calling Kotlin from Groovy</h2>

<p>The <code class="language-plaintext highlighter-rouge">dependency_okhttp</code> function is declared in the <code class="language-plaintext highlighter-rouge">dependencies.kt</code> file under the
<code class="language-plaintext highlighter-rouge">buildSrc</code> project in my codebase. It is visible to Groovy as a member of the <code class="language-plaintext highlighter-rouge">DependenciesKt</code> class.
We use the <code class="language-plaintext highlighter-rouge">.@Companion.</code> trick to access the <code class="language-plaintext highlighter-rouge">.of</code> function of the <code class="language-plaintext highlighter-rouge">DependencyHandlerScope</code>
class from Gradle.
We have the following Groovy code to call our extension function declared in Kotlin from Groovy:</p>
<div class="language-gradle highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">static</span> <span class="n">x</span><span class="o">.</span><span class="na">y</span><span class="o">.</span><span class="na">z</span><span class="o">.</span><span class="na">DependenciesKt</span><span class="o">.*</span>
<span class="n">ext</span> <span class="o">{</span>
  <span class="n">dependency_okhttp</span> <span class="o">=</span> <span class="o">{</span> <span class="kt">Project</span> <span class="n">project</span> <span class="o">-&gt;</span>
    <span class="n">dependency_okhttp</span><span class="o">(</span><span class="n">DependencyHandlerScope</span><span class="o">.</span><span class="nd">@Companion.of</span><span class="o">(</span><span class="n">project</span><span class="o">.</span><span class="na">dependencies</span><span class="o">))</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>That code is stable, and it is unlikely to break if we change something code under <code class="language-plaintext highlighter-rouge">buildSrc</code>.
The Kotlin version is easy to use from Kotlin DSL, and the Groovy version is only needed
for the time of the migration from Gradle to Kotlin. We’ve covered the migration plan
in the very <a href="/blog/2019/03/04/gradle-kotlin-migration-1/">first post</a>
of this series.</p>

<h2 id="conclusion">Conclusion</h2>

<p>In the post we’ve seen how to deal with Groovy closures on Kotlin and
how to move from <code class="language-plaintext highlighter-rouge">ext</code> properties to Kotlin extension functions declared in <code class="language-plaintext highlighter-rouge">buildSrc</code>.</p>

<p><a href="https://kotlinlang.org">Kotlin</a> as a statically typed programming language
seems to play well with writing Gradle build scripts.
Thanks to the static type inference, the Kotlin compiler detects errors earlier and
shows helpful compilation error messages and warnings.
Both the IDE and the compiler use information about types to infer
the available functions and properties in a given scope, even inside a 5th level
nested lambda with receivers.</p>

<p>I will cover more aspects in the coming posts, stay tuned!
Check out the</p>
<ul>
  <li><a href="/blog/2019/03/04/gradle-kotlin-migration-1/">first post</a> — First steps of the migration</li>
  <li><a href="/blog/2019/04/02/gradle-kotlin-migration-2/">second post</a> — Kotlin tasks in Gradle Kotlin DSL,</li>
  <li><a href="/blog/2019/05/20/gradle-kotlin-migration-3/">third post</a> — a <code class="language-plaintext highlighter-rouge">buildSrc</code> project with Kotlin, ad-hoc plugins and extensions</li>
</ul>

        
      </div><!-- /.entry-content -->
    </div><!-- /.entry-wrapper -->
    <nav class="pagination" role="navigation">
      
        <a href="/blog/2019/05/20/gradle-kotlin-migration-3/" class="btn" title="Migrating to Gradle Kotlin DSL - Extensions and buildSrc">Previous</a>
      
      
        <a href="/blog/2019/12/15/jni-kotlin/" class="btn" title="JNI with Kotlin/Native">Next</a>
      
    </nav><!-- /.pagination -->
  </article>
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo" class="entry-wrapper">
    

<span>
  &copy; 2005—2026 Eugene Petrenko.
  <br />
  Unless otherwise noted, the content on the website is licensed under a
  <a href="https://creativecommons.org/licenses/by-nc-sa/4.0">CC BY-NC-SA 4.0</a> license.
  <br />
  Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using
  the <a href="https://mademistakes.com/work/so-simple-jekyll-theme/" rel="nofollow">So Simple Theme</a>.
</span>
<div class="social-icons">
  <a href="https://x.com/jonnyzzz" title="Eugene Petrenko on X" target="_blank"><svg class="social-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg></a>
  <a href="https://linkedin.com/in/jonnyzzz" title="Eugene Petrenko on LinkedIn" target="_blank"><svg class="social-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77z"/></svg></a>
  <a href="https://github.com/jonnyzzz" title="Eugene Petrenko on Github" target="_blank"><svg class="social-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2z"/></svg></a>
  <a href="https://www.youtube.com/@jonnyzzz" title="Eugene Petrenko on YouTube" target="_blank"><svg class="social-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M23.498 6.186a2.959 2.959 0 0 0-2.079-2.08C19.58 3.6 12 3.6 12 3.6s-7.58 0-9.419.507a2.959 2.959 0 0 0-2.08 2.079C0 8.025 0 12 0 12s0 3.975.501 5.814a2.959 2.959 0 0 0 2.08 2.079C4.42 20.4 12 20.4 12 20.4s7.58 0 9.419-.507a2.959 2.959 0 0 0 2.08-2.079C24 15.975 24 12 24 12s0-3.975-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/></svg></a>
  <a href="/feed.xml" title="Atom/RSS feed"><svg class="social-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.18 15.64a2.18 2.18 0 0 1 2.18 2.18C8.36 19 7.38 20 6.18 20C5 20 4 19 4 17.82a2.18 2.18 0 0 1 2.18-2.18M4 4.44A15.56 15.56 0 0 1 19.56 20h-2.83A12.73 12.73 0 0 0 4 7.27V4.44m0 5.66a9.9 9.9 0 0 1 9.9 9.9h-2.83A7.07 7.07 0 0 0 4 12.93V10.1z"/></svg></a>
</div><!-- /.social-icons -->

  </footer>
</div><!-- /.footer-wrapper -->

<script>
  // Open external links in new tab
  Array.from(document.links).forEach(link => {
    // For development: 0.0.0.0, localhost, 127.0.0.1 are all local
    const localHosts = ['localhost', '127.0.0.1', '0.0.0.0'];
    const linkIsLocal = localHosts.includes(link.hostname);
    const pageIsLocal = localHosts.includes(window.location.hostname);

    // Internal if: both are local dev hosts, or hostnames match exactly
    const isInternal = (linkIsLocal && pageIsLocal) ||
                       (link.hostname === window.location.hostname);

    if (!isInternal) {
      link.target = '_blank';
    }
  });
</script>


<!-- Google Analytics (gtag.js) -->
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('consent', 'default', {
    'ad_storage': 'denied',
    'ad_user_data': 'denied',
    'ad_personalization': 'denied',
    'analytics_storage': 'denied'
  });
</script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-BXXDX0ERFP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-BXXDX0ERFP');
</script>
<!-- End Google Analytics -->

<!-- PostHog Analytics -->
<script>
    !function(t,e){var o,n,p,r;e.__SV||(window.posthog && window.posthog.__loaded)||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.crossOrigin="anonymous",p.async=!0,p.src=s.api_host.replace(".i.posthog.com","-assets.i.posthog.com")+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="init rs ls wi ns us ts ss capture calculateEventProperties vs register register_once register_for_session unregister unregister_for_session gs getFeatureFlag getFeatureFlagPayload getFeatureFlagResult isFeatureEnabled reloadFeatureFlags updateFlags updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures on onFeatureFlags onSurveysLoaded onSessionId getSurveys getActiveMatchingSurveys renderSurvey displaySurvey cancelPendingSurvey canRenderSurvey canRenderSurveyAsync identify setPersonProperties group resetGroups setPersonPropertiesForFlags resetPersonPropertiesForFlags setGroupPropertiesForFlags resetGroupPropertiesForFlags reset get_distinct_id getGroups get_session_id get_session_replay_url alias set_config startSessionRecording stopSessionRecording sessionRecordingStarted captureException startExceptionAutocapture stopExceptionAutocapture loadToolbar get_property getSessionProperty fs ds createPersonProfile setInternalOrTestUser ps Qr opt_in_capturing opt_out_capturing has_opted_in_capturing has_opted_out_capturing get_explicit_consent_status is_capturing clear_opt_in_out_capturing hs debug M cs getPageViewId captureTraceFeedback captureTraceMetric Kr".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
    posthog.init('phc_IPtbjwwy9YIGg0YNHNxYBePijvTvHEcKAjohah6obYW', {
        api_host: 'https://us.i.posthog.com',
        defaults: '2025-11-30',
        person_profiles: 'identified_only',
    })
</script>
<!-- End PostHog Analytics -->




<!--SYNTAX HIGHLIGHTER - Lazy loads PrismJS only when code blocks are present-->
<script>
(function() {
  // Check if page has any code blocks that need highlighting
  if (!document.querySelector('pre code, code[class*="language-"]')) return;

  // Load CSS
  var cssFiles = [
    'https://cdn.jsdelivr.net/npm/prismjs@1.30.0/themes/prism.min.css',
    'https://cdn.jsdelivr.net/npm/prismjs@1.30.0/plugins/line-numbers/prism-line-numbers.min.css',
    'https://cdn.jsdelivr.net/npm/prismjs@1.30.0/plugins/toolbar/prism-toolbar.min.css'
  ];
  cssFiles.forEach(function(href) {
    var link = document.createElement('link');
    link.rel = 'stylesheet';
    link.href = href;
    document.head.appendChild(link);
  });

  // Load JS in sequence (core first, then plugins)
  var jsFiles = [
    'https://cdn.jsdelivr.net/npm/prismjs@1.30.0/components/prism-core.min.js',
    'https://cdn.jsdelivr.net/npm/prismjs@1.30.0/plugins/autoloader/prism-autoloader.min.js',
    'https://cdn.jsdelivr.net/npm/prismjs@1.30.0/plugins/line-numbers/prism-line-numbers.min.js',
    'https://cdn.jsdelivr.net/npm/prismjs@1.30.0/plugins/toolbar/prism-toolbar.min.js',
    'https://cdn.jsdelivr.net/npm/prismjs@1.30.0/plugins/show-language/prism-show-language.min.js',
    'https://cdn.jsdelivr.net/npm/prismjs@1.30.0/plugins/normalize-whitespace/prism-normalize-whitespace.min.js'
  ];

  function loadScript(index) {
    if (index >= jsFiles.length) {
      // All scripts loaded, highlight code
      if (window.Prism) Prism.highlightAll();
      return;
    }
    var script = document.createElement('script');
    script.src = jsFiles[index];
    script.onload = function() { loadScript(index + 1); };
    document.head.appendChild(script);
  }
  loadScript(0);
})();
</script>



</body>
</html>
